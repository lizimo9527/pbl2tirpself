{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            post: new UTSJSONObject({\n                content: '',\n                images: [],\n                category: '',\n                guideTitle: ''\n            })\n        };\n    },\n    methods: {\n        cancelPublish() {\n            uni.navigateBack();\n        },\n        publishPost() {\n            if (!this.post.content.trim()) {\n                uni.showToast(new UTSJSONObject({\n                    title: '请输入内容',\n                    icon: 'none'\n                }));\n                return null;\n            }\n            if (!this.post.category) {\n                uni.showToast(new UTSJSONObject({\n                    title: '请选择分类',\n                    icon: 'none'\n                }));\n                return null;\n            }\n            // 模拟发布成功\n            uni.showToast(new UTSJSONObject({\n                title: '发布成功',\n                icon: 'success'\n            }));\n            setTimeout(() => {\n                uni.navigateBack();\n            }, 1500);\n        },\n        chooseImage() {\n            uni.chooseImage(new UTSJSONObject({\n                count: 9 - this.post.images.length,\n                sizeType: ['compressed'],\n                sourceType: ['album', 'camera'],\n                success: (res = null) => {\n                    this.post.images = [...this.post.images, ...res.tempFilePaths];\n                }\n            }));\n        },\n        removeImage(index = null) {\n            this.post.images.splice(index, 1);\n        },\n        selectGuide() {\n            uni.showActionSheet(new UTSJSONObject({\n                itemList: ['北京三日游攻略', '成都美食探店', '上海外滩夜景'],\n                success: (res = null) => {\n                    const guides = ['北京三日游攻略', '成都美食探店', '上海外滩夜景'];\n                    this.post.guideTitle = guides[res.tapIndex];\n                }\n            }));\n        }\n    }\n});\n//# sourceMappingURL=E:/pbl2/tripself/pages/publish/publish.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.navigateBack","uni.showToast","uni.chooseImage","uni.showActionSheet"],"map":"{\"version\":3,\"file\":\"publish.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"publish.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACC,+BAAe;IACd,IAAI;QACH,OAAO;YACN,IAAI,oBAAE;gBACL,OAAO,EAAE,EAAE;gBACX,MAAM,EAAE,EAAE;gBACV,QAAQ,EAAE,EAAE;gBACZ,UAAU,EAAE,EAAE;aACd,CAAA;SACD,CAAA;IACF,CAAC;IACD,OAAO,EAAE;QACR,aAAa;YACZ,GAAG,CAAC,YAAY,EAAE,CAAA;QACnB,CAAC;QACD,WAAW;YACV,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE;gBAC9B,GAAG,CAAC,SAAS,mBAAC;oBACb,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACZ,EAAC,CAAA;gBACF,YAAM;aACN;YAED,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBACxB,GAAG,CAAC,SAAS,mBAAC;oBACb,KAAK,EAAE,OAAO;oBACd,IAAI,EAAE,MAAM;iBACZ,EAAC,CAAA;gBACF,YAAM;aACN;YAED,SAAS;YACT,GAAG,CAAC,SAAS,mBAAC;gBACb,KAAK,EAAE,MAAM;gBACb,IAAI,EAAE,SAAS;aACf,EAAC,CAAA;YAEF,UAAU,CAAC;gBACV,GAAG,CAAC,YAAY,EAAE,CAAA;YACnB,CAAC,EAAE,IAAI,CAAC,CAAA;QACT,CAAC;QACD,WAAW;YACV,GAAG,CAAC,WAAW,mBAAC;gBACf,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM;gBAClC,QAAQ,EAAE,CAAC,YAAY,CAAC;gBACxB,UAAU,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;gBAC/B,OAAO,EAAE,CAAC,GAAG,OAAA;oBACZ,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,CAAA;gBAC/D,CAAC;aACD,EAAC,CAAA;QACH,CAAC;QACD,WAAW,CAAC,KAAK,OAAA;YAChB,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAA;QAClC,CAAC;QACD,WAAW;YACV,GAAG,CAAC,eAAe,mBAAC;gBACnB,QAAQ,EAAE,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC;gBACzC,OAAO,EAAE,CAAC,GAAG,OAAA;oBACZ,MAAM,MAAM,GAAG,CAAC,SAAS,EAAE,QAAQ,EAAE,QAAQ,CAAC,CAAA;oBAC9C,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;gBAC5C,CAAC;aACD,EAAC,CAAA;QACH,CAAC;KACD;CACD,EAAA\"}"}
