<template>
	<view class="home-container">
		<!-- ä¸»å†…å®¹åŒº -->
		<view class="main-content">
			<!-- å¤´éƒ¨ Banner åŒº -->
			<view class="banner-section">
				<view class="banner-bg">
					<image 
						src="/static/images/background/banner.jpg" 
						class="banner-image"
						mode="aspectFill"
					></image>
					<view class="banner-overlay"></view>
				</view>
				
				<view class="banner-content">
					<view class="banner-welcome">
						<text class="welcome-icon">ğŸ—ºï¸</text>
						<view class="welcome-texts">
							<text class="welcome-text">æ¬¢è¿ä½¿ç”¨ TripSelf</text>
							<text class="welcome-subtitle">å¼€å§‹è§„åˆ’æ‚¨çš„å®Œç¾æ—…ç¨‹</text>
						</view>
					</view>
					
					<view class="banner-main">
						<text class="banner-title">å‘ç°ä½ çš„ä¸“å±æ—…è¡Œæ–¹å¼</text>
						<text class="banner-subtitle">TripSelf - æ—…è¡Œè‡ªåŠ©æœåŠ¡å¹³å°</text>
					</view>
					
					<button class="start-planning-btn" @click="startPlanning">
						<text>âœï¸ å¼€å§‹åˆ¶ä½œæ”»ç•¥</text>
					</button>
				</view>
			</view>

			<!-- ç‰¹è‰²ç‰¹åŒºï¼ˆè°ƒæ¢åˆ°ä¸Šé¢ä½ç½®ï¼Œä½¿ç”¨ä¸€è¡Œæ ·å¼ï¼‰ -->
			<view class="quick-actions-section">
				<view class="quick-actions-grid">
					<view class="action-card" @click="showRoutePlanning">
						<view class="action-icon-wrapper">
							<text class="feature-icon">ğŸ—ºï¸</text>
						</view>
						<text class="action-title">æ™ºèƒ½è·¯çº¿è§„åˆ’</text>
					</view>
					
				<view class="action-card" @click="showBudgetManagement">
					<view class="action-icon-wrapper">
						<text class="feature-icon">ğŸ’°</text>
					</view>
					<text class="action-title">é¢„ç®—ç®¡ç†</text>
				</view>
					
					<view class="action-card" @click="showTimeArrangement">
						<view class="action-icon-wrapper">
							<text class="feature-icon">ğŸ“…</text>
						</view>
						<text class="action-title">æ—¶é—´å®‰æ’</text>
					</view>
					
					<view class="action-card" @click="showMultiDeviceSync">
						<view class="action-icon-wrapper">
							<text class="feature-icon">ğŸ“±</text>
						</view>
						<text class="action-title">å¤šç«¯åŒæ­¥</text>
					</view>
				</view>
			</view>

			<!-- åŠŸèƒ½å…¥å£åŒºï¼ˆç§»åŠ¨åˆ°é¡µé¢åº•éƒ¨ï¼Œä½¿ç”¨ä¸¤è¡Œä¸¤åˆ—æ ·å¼ï¼‰ -->
			<view class="features-section">
				<view class="section-header">
					<view class="section-indicator"></view>
					<text class="section-title">åŠŸèƒ½å…¥å£</text>
				</view>
				
				<view class="features-grid">
					<view class="feature-card" @click="startPlanning">
						<view class="feature-icon-wrapper">
							<image src="/static/images/background/image1.png" class="action-card-image" mode="aspectFit"></image>
						</view>
						<text class="feature-title">åˆ›å»ºæ–°æ”»ç•¥</text>
					</view>
					
					<view class="feature-card" @click="viewMyPlans">
						<view class="feature-icon-wrapper">
							<image src="/static/images/background/image2.png" class="action-card-image" mode="aspectFit"></image>
						</view>
						<text class="feature-title">æˆ‘çš„æ”»ç•¥</text>
					</view>
					
					<view class="feature-card" @click="viewTemplates">
						<view class="feature-icon-wrapper">
							<image src="/static/images/background/image4.png" class="action-card-image" mode="aspectFit"></image>
						</view>
						<text class="feature-title">æ”»ç•¥æ¨¡æ¿</text>
					</view>
					
					<view class="feature-card" @click="startAIChat">
						<view class="feature-icon-wrapper">
							<image src="/static/images/background/image3.png" class="action-card-image" mode="aspectFit"></image>
						</view>
						<text class="feature-title">ä¸€é”®å®šåˆ¶æ—…è¡Œ</text>
					</view>
				</view>
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				// ç²¾ç®€åçš„æ•°æ®ï¼Œä¸“æ³¨äºæ”»ç•¥åˆ¶ä½œ
			}
		},
		methods: {
			startPlanning() {
				uni.switchTab({
					url: '/pages/create/create'
				})
			},
			viewMyPlans() {
				uni.navigateTo({
					url: '/pages/my-plans/my-plans'
				})
			},
			viewTemplates() {
				uni.navigateTo({
					url: '/pages/templates/templates'
				})
			},
			startAIChat() {
				uni.navigateTo({
					url: '/pages/ai-chat/ai-chat'
				})
			},
			// ç‰¹è‰²åŠŸèƒ½æ–¹æ³•
			showRoutePlanning() {
				uni.showToast({
					title: 'æ™ºèƒ½è·¯çº¿è§„åˆ’åŠŸèƒ½å¼€å‘ä¸­',
					icon: 'none'
				})
			},
			showBudgetManagement() {
				uni.showToast({
					title: 'é¢„ç®—ç®¡ç†åŠŸèƒ½å¼€å‘ä¸­',
					icon: 'none'
				})
			},
			showTimeArrangement() {
				uni.showToast({
					title: 'æ—¶é—´å®‰æ’åŠŸèƒ½å¼€å‘ä¸­',
					icon: 'none'
				})
			},
			showMultiDeviceSync() {
				uni.showToast({
					title: 'å¤šç«¯åŒæ­¥åŠŸèƒ½å¼€å‘ä¸­',
					icon: 'none'
				})
			}
		}
	}
</script>

<style>
	/* å…¨å±€æ ·å¼ */
	.home-container {
		min-height: 100vh;
		background: linear-gradient(to right, #e6f7ff, #fceeff);
		font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
		opacity: 1;
	}
	
	/* ä¸»å†…å®¹åŒºåŸŸ */
	.main-content {
		padding-top: 0;
		padding-bottom: 0;
		min-height: calc(100vh - 500rpx - 100rpx);
		display: flex;
		flex-direction: column;
	}
	
	/* ç¡®ä¿åŠŸèƒ½å…¥å£åŒºåŸŸåœ¨åº•éƒ¨ */
	.features-section {
		flex-grow: 1;
		margin-top: auto;
		margin-bottom: 100rpx; /* ç´§è´´åº•éƒ¨å¯¼èˆªæ  */
	}
	
	/* å¤´éƒ¨ Banner åŒºæ ·å¼ */
	.banner-section {
		position: relative;
		height: 500rpx; /* å‡å°‘é«˜åº¦è®©æŒ‰é’®ä¸Šç§» */
		overflow: hidden;
	}
	
	.banner-bg {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 0;
	}
	
	.banner-image {
		width: 100%;
		height: 100%;
	}
	
	.banner-overlay {
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: transparent;
	}
	
	.banner-content {
		position: relative;
		z-index: 10;
		height: 100%;
		display: flex;
		flex-direction: column;
		justify-content: flex-start;
		padding: 20rpx 40rpx 20rpx;
		gap: 40rpx;
	}
	
	.banner-welcome {
		display: flex;
		flex-direction: row;
		align-items: center;
		gap: 20rpx;
	}
	
	.welcome-icon {
		font-size: 80rpx;
		opacity: 0.22;
		filter: blur(3rpx);
	}
	
	.welcome-texts {
		display: flex;
		flex-direction: column;
		align-items: flex-start;
	}
	
	.welcome-text {
		font-size: 40rpx; /* çº¦20px */
		font-weight: bold;
		color: white;
		margin-bottom: 5rpx;
	}
	
	.welcome-subtitle {
		font-size: 32rpx; /* çº¦16px */
		color: rgba(255, 255, 255, 0.9);
	}
	
	.banner-main {
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
	}
	
	.banner-title {
		font-size: 56rpx; /* çº¦28px */
		font-weight: bold;
		color: white;
		margin-bottom: 10rpx;
	}
	
	.banner-subtitle {
		font-size: 36rpx; /* çº¦18px */
		color: rgba(255, 255, 255, 0.8);
	}
	
	.start-planning-btn {
		background: linear-gradient(to right, #ffe6f2, #e6f7ff);
		color: #20B2AA;
		font-weight: 600;
		font-size: 36rpx; /* çº¦18px */
		padding: 20rpx 60rpx;
		border-radius: 50rpx;
		box-shadow: 0 8rpx 20rpx rgba(0, 0, 0, 0.2);
		transform: scale(1);
		transition: all 0.3s;
		display: flex;
		align-items: center;
		justify-content: center;
		border: none;
		align-self: center;
		opacity: 1;
		min-width: 300rpx;
		white-space: nowrap;
		margin-top: 0rpx;
	}
	
	.start-planning-btn:active {
		transform: scale(1.05);
		background: linear-gradient(to right, #ffd1e6, #d1ecff);
	}
	
	.btn-icon {
		font-size: 32rpx;
	}
	
	/* åŠŸèƒ½å…¥å£åŒº */
	.quick-actions-section {
		margin: -40rpx 30rpx -10rpx 0rpx; /* å‡å°‘è´Ÿmarginï¼Œç¼©çŸ­å‘ä¸‹å»¶ä¼¸è·ç¦» */
		background: linear-gradient(to right, #e6f7ff, #fceeff, #fff0e6);
		opacity: 1;
		border-radius: 40rpx 40rpx 25rpx 25rpx; /* å¾®è°ƒåº•éƒ¨åœ†è§’ */
		padding: 15rpx 15rpx 30rpx 15rpx; /* å‡å°‘åº•éƒ¨å†…è¾¹è· */
		position: relative;
		z-index: 10; /* æé«˜z-indexç¡®ä¿è¦†ç›–ä¸‹é¢å†…å®¹ */
		width: calc(100% - 30rpx);
		overflow: visible;
		min-height: 180rpx; /* å‡å°‘æœ€å°é«˜åº¦ */
		box-shadow: 0 8rpx 25rpx rgba(0, 0, 0, 0.15); /* ä¿æŒé˜´å½±æ•ˆæœ */
	}
	
	.quick-actions-grid {
		display: flex;
		justify-content: space-between;
		gap: 10rpx;
	}
	
	.action-card {
		flex: 1;
		background: transparent;
		border-radius: 20rpx;
		padding: 20rpx 15rpx;
		transform: scale(1);
		transition: all 0.3s;
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;
		gap: 12rpx;
		box-sizing: border-box;
		min-height: 140rpx;
		min-width: 180rpx;
	}
	
	.action-card:active {
		transform: scale(1.05);
		background: rgba(255, 255, 255, 0.1);
	}
	
	.action-icon-wrapper {
		width: 80rpx;
		height: 80rpx;
		border-radius: 20rpx;
		display: flex;
		justify-content: center;
		align-items: center;
		background: linear-gradient(135deg, #e6f7ff, #f0f8ff);
		flex-shrink: 0;
		padding: 10rpx;
		box-sizing: border-box;
	}
	
	.feature-icon {
		font-size: 48rpx;
	}
	
	.action-card-image {
		width: 60rpx;
		height: 60rpx;
		max-width: 100%;
		max-height: 100%;
		object-fit: contain;
	}
	
	.action-title {
		font-size: 26rpx; /* çº¦13px */
		font-weight: 500;
		color: #666;
		white-space: nowrap;
		flex-shrink: 0;
		text-align: center;
		width: 100%;
	}
	
	/* ç‰¹è‰²ç‰¹åŒº */
	.features-section {
		padding: 0 30rpx 60rpx; /* å¢åŠ åº•éƒ¨å†…è¾¹è· */
		background: 
			linear-gradient(135deg, #e6f7ff 0%, #e6f7ff 5%, transparent 15%),
			linear-gradient(to right, #fceeff, #fff0e6);
		opacity: 0.95;
		border-radius: 40rpx; /* å¢åŠ åœ†è§’åŠå¾„ */
		margin-top: -20rpx; /* è´Ÿè¾¹è·å‘ä¸Šç§»åŠ¨ï¼Œè¦†ç›–ä¸Šé¢çš„å†…å®¹ */
		position: relative;
		z-index: 10; /* æé«˜å±‚çº§ç¡®ä¿è¦†ç›– */
		box-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.1); /* æ·»åŠ é˜´å½±æ•ˆæœ */
		min-height: 450rpx; /* è¿›ä¸€æ­¥å¢åŠ æœ€å°é«˜åº¦ */
		margin-bottom: 120rpx; /* å¢åŠ ä¸‹è¾¹æ¡†è·ç¦» */
	}
	
	.section-header {
		display: flex;
		align-items: center;
		margin-bottom: 60rpx; /* è¿›ä¸€æ­¥å¢åŠ ä¸ä¸‹é¢åŠŸèƒ½å¡ç‰‡çš„é—´è· */
		padding: 20rpx 20rpx 0rpx 20rpx; /* å¢åŠ é¡¶éƒ¨å†…è¾¹è·ï¼Œè®©æ–‡å­—å‘ä¸Šç§»åŠ¨ */
		margin-top: 10rpx; /* ä»é¡¶éƒ¨å¼€å§‹æœ‰æ›´å¤šç©ºé—´ */
	}
	
	.section-indicator {
		width: 8rpx;
		height: 48rpx;
		background: #20B2AA;
		border-radius: 4rpx;
		margin-right: 20rpx;
	}
	
	.section-title {
		font-size: 36rpx; /* çº¦18px */
		font-weight: bold;
		color: #333;
	}
	
	.features-grid {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-between;
		gap: 20rpx;
		padding: 0 20rpx;
	}
	
	.feature-card {
		width: calc(50% - 10rpx);
		background: rgba(255, 255, 255, 0.9);
		border-radius: 20rpx;
		padding: 30rpx;
		box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);
		transition: box-shadow 0.3s;
		box-sizing: border-box;
		display: flex;
		flex-direction: column;
		align-items: center;
		text-align: center;
		backdrop-filter: blur(10rpx);
	}
	
	.feature-card:active {
		box-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.12);
	}
	
	.feature-icon-wrapper {
		width: 80rpx;
		height: 80rpx;
		border-radius: 20rpx;
		background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
		display: flex;
		justify-content: center;
		align-items: center;
		margin-bottom: 20rpx;
	}
	
	.feature-icon {
		font-size: 36rpx;
	}
	
	.feature-title {
		font-size: 32rpx; /* çº¦16px */
		font-weight: bold;
		color: #333;
		margin-bottom: 10rpx;
	}
	
	.feature-desc {
		font-size: 24rpx; /* çº¦12px */
		color: #666;
		line-height: 1.4;
	}
	
	/* åŸºç¡€åŠ¨ç”»å®šä¹‰ */
	@keyframes fadeIn {
		from { opacity: 0; transform: translateY(40rpx); }
		to { opacity: 1; transform: translateY(0); }
	}
	
	/* ä¸ºå…ƒç´ æ·»åŠ åŠ¨ç”» */
	.banner-welcome,
	.banner-main,
	.start-planning-btn,
	.action-card,
	.feature-card {
		animation: fadeIn 0.6s ease-out;
	}
	
	.action-card:nth-child(2) { animation-delay: 0.1s; }
	.action-card:nth-child(3) { animation-delay: 0.2s; }
	.action-card:nth-child(4) { animation-delay: 0.3s; }
	.feature-card:nth-child(2) { animation-delay: 0.1s; }
	.feature-card:nth-child(3) { animation-delay: 0.2s; }
	.feature-card:nth-child(4) { animation-delay: 0.3s; }
</style>