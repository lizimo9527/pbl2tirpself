<!--pages/match/match.wxml-->
<view class="match-container">
	<!-- 匹配头部 -->
	<view class="match-header">
		<view class="header-content">
			<text class="page-title">匹配搭子</text>
			<text class="page-subtitle">找到志同道合的旅行伙伴</text>
		</view>
	</view>
	
	<!-- 筛选条件 -->
	<view class="filter-section">
		<view class="filter-container">
			<picker class="filter-picker" mode="selector" range="{{destinationOptions}}" value="{{destinationIndex}}" bindchange="onDestinationChange">
				<view class="filter-item">
					<text class="filter-label">目的地</text>
					<text class="filter-value">{{destinationOptions[destinationIndex]}}</text>
				</view>
			</picker>
			<picker class="filter-picker" mode="selector" range="{{dateOptions}}" value="{{dateIndex}}" bindchange="onDateChange">
				<view class="filter-item">
					<text class="filter-label">出行时间</text>
					<text class="filter-value">{{dateOptions[dateIndex]}}</text>
				</view>
			</picker>
			<button class="search-btn" bindtap="searchPartners">搜索</button>
		</view>
	</view>
	
	<!-- 内容区域 -->
	<view class="main-content">
		<!-- 推荐搭子 -->
		<view class="section">
			<view class="section-header">
				<text class="section-title">推荐搭子</text>
			</view>
			<view class="partners-list">
				<view class="partner-item" wx:for="{{recommendedPartners}}" wx:key="id" bindtap="viewPartnerDetail" data-partner="{{item.id}}">
					<view class="partner-header">
						<image class="partner-avatar" src="{{item.avatar}}" mode="aspectFill"></image>
						<view class="partner-info">
							<text class="partner-name">{{item.name}}</text>
							<text class="partner-tags">{{item.tags.join(' · ')}}</text>
						</view>
						<view class="match-rate">
							<text class="rate-text">{{item.matchRate}}%</text>
							<text class="rate-label">匹配度</text>
						</view>
					</view>
					<view class="partner-details">
						<text class="destination">目的地: {{item.destination}}</text>
						<text class="travel-date">出行时间: {{item.travelDate}}</text>
						<text class="travel-style">旅行风格: {{item.travelStyle}}</text>
					</view>
					<view class="partner-actions">
						<button class="contact-btn" bindtap="contactPartner" data-partner="{{item.id}}">联系</button>
						<button class="like-btn" bindtap="likePartner" data-partner="{{item.id}}">喜欢</button>
					</view>
				</view>
			</view>
		</view>
		
		<!-- 我的匹配 -->
		<view class="section">
			<view class="section-header">
				<text class="section-title">我的匹配</text>
				<text class="view-all" bindtap="viewAllMatches">查看全部</text>
			</view>
			<view class="my-matches">
				<view class="match-item" wx:for="{{myMatches}}" wx:key="id" bindtap="viewMatchDetail" data-match="{{item.id}}">
					<image class="match-avatar" src="{{item.avatar}}" mode="aspectFill"></image>
					<view class="match-info">
						<text class="match-name">{{item.name}}</text>
						<text class="match-status">{{item.status}}</text>
					</view>
					<text class="match-time">{{item.lastContact}}</text>
				</view>
			</view>
		</view>
	</view>
	
	<!-- 创建匹配 -->
	<view class="create-match-fab" bindtap="createMatch">
		<text class="fab-icon">+</text>
	</view>
</view>