// æ¨¡æ¿æ•°æ®æœåŠ¡
class TemplateService {
  constructor() {
    this.templates = this.getTemplateData();
  }

  // è·å–æ¨¡æ¿æ•°æ®
  getTemplateData() {
    return {
      'hebei_classic_3days': {
        id: 'hebei_classic_3days',
        title: 'æ²³åŒ—ç»å…¸3æ—¥æ¸¸',
        subtitle: 'æ‰¿å¾·é¿æš‘å±±åº„ã€ç§¦çš‡å²›åŒ—æˆ´æ²³ã€å±±æµ·å…³ç»å…¸è·¯çº¿',
        image: '/static/images/templates/hebei1.jpg',
        category: 'æ²³åŒ—çœç‰¹è‰²',
        description: 'æ‰¿å¾·é¿æš‘å±±åº„ã€ç§¦çš‡å²›åŒ—æˆ´æ²³ã€å±±æµ·å…³ç»å…¸è·¯çº¿',
        rating: 4.8,
        usageCount: 156,
        tags: ['3å¤©è¡Œç¨‹', 'ç»å…¸è·¯çº¿', 'å†å²å¤è¿¹'],
        days: [
          {
            day: 1,
            title: 'ç¬¬ä¸€å¤©ï¼šæ‰¿å¾·é¿æš‘å±±åº„',
            locations: [
              {
                name: 'æ‰¿å¾·é¿æš‘å±±åº„',
                desc: 'æ¸…ä»£çš‡å®¶å›­æ—ï¼Œä¸–ç•Œæ–‡åŒ–é—äº§ï¼Œå åœ°564ä¸‡å¹³æ–¹ç±³ï¼Œæ˜¯ä¸­å›½ç°å­˜æœ€å¤§çš„å¤å…¸çš‡å®¶å›­æ—',
                time: '4-6å°æ—¶',
                transport: [
                  { type: 'ğŸš‡', route: 'é«˜é“è‡³æ‰¿å¾·å—ç«™ï¼Œè½¬ä¹˜å…¬äº¤' },
                  { type: 'ğŸš•', route: 'å‡ºç§Ÿè½¦çº¦30åˆ†é’Ÿ' }
                ],
                details: 'é¿æš‘å±±åº„å§‹å»ºäº1703å¹´ï¼Œå†ç»åº·ç†™ã€é›æ­£ã€ä¹¾éš†ä¸‰æœï¼Œè€—æ—¶89å¹´å»ºæˆã€‚å±±åº„ç”±å®«æ®¿åŒºã€æ¹–æ³ŠåŒºã€å¹³åŸåŒºã€å±±å³¦åŒºå››éƒ¨åˆ†ç»„æˆï¼Œèåˆäº†å—åŒ—å›­æ—è‰ºæœ¯ç²¾åã€‚'
              },
              {
                name: 'æ™®é™€å®—ä¹˜ä¹‹åº™',
                desc: 'ä»¿è¥¿è—å¸ƒè¾¾æ‹‰å®«å»ºé€ ï¼Œåˆç§°å°å¸ƒè¾¾æ‹‰å®«',
                time: '2-3å°æ—¶',
                transport: [
                  { type: 'ğŸš•', route: 'ä»é¿æš‘å±±åº„æ‰“è½¦çº¦15åˆ†é’Ÿ' }
                ],
                details: 'ä¸ºåº†ç¥ä¹¾éš†çš‡å¸60å¯¿è¾°è€Œå»ºï¼Œæ˜¯æ‰¿å¾·å¤–å…«åº™ä¸­è§„æ¨¡æœ€å¤§çš„ä¸€åº§ã€‚å»ºç­‘ç¾¤ä¾å±±è€Œå»ºï¼Œæ°”åŠ¿å®ä¼Ÿã€‚'
              }
            ]
          },
          {
            day: 2,
            title: 'ç¬¬äºŒå¤©ï¼šç§¦çš‡å²›åŒ—æˆ´æ²³',
            locations: [
              {
                name: 'åŒ—æˆ´æ²³æµ·æ»¨',
                desc: 'è‘—åæµ·æ»¨åº¦å‡èƒœåœ°ï¼Œæ²™è´¨ç»†è…»ï¼Œæµ·æ°´æ¸…æ¾ˆ',
                time: '3-4å°æ—¶',
                transport: [
                  { type: 'ğŸš‡', route: 'é«˜é“è‡³ç§¦çš‡å²›ç«™' },
                  { type: 'ğŸš•', route: 'å‡ºç§Ÿè½¦çº¦20åˆ†é’Ÿ' }
                ],
                details: 'åŒ—æˆ´æ²³æ˜¯ä¸­å›½å››å¤§é¿æš‘èƒœåœ°ä¹‹ä¸€ï¼Œæµ·å²¸çº¿é•¿è¾¾22.5å…¬é‡Œã€‚è¿™é‡Œæ°”å€™å®œäººï¼Œæ˜¯è§‚æµ·ã€æ¸¸æ³³ã€æ—¥å…‰æµ´çš„ç†æƒ³åœºæ‰€ã€‚'
              },
              {
                name: 'é¸½å­çªå…¬å›­',
                desc: 'è§‚æ—¥å‡ºæœ€ä½³åœ°ç‚¹ï¼Œæ¯›æ³½ä¸œæ›¾åœ¨æ­¤å†™ä¸‹ã€Šæµªæ·˜æ²™Â·åŒ—æˆ´æ²³ã€‹',
                time: '1-2å°æ—¶',
                transport: [
                  { type: 'ğŸš•', route: 'ä»åŒ—æˆ´æ²³æµ·æ»¨æ‰“è½¦çº¦10åˆ†é’Ÿ' }
                ],
                details: 'å…¬å›­å†…æœ‰ä¸€å—å½¢ä¼¼é›„é¹°çš„å·¨çŸ³ï¼Œæ˜¯è§‚èµæµ·ä¸Šæ—¥å‡ºçš„ç»ä½³ä½ç½®ã€‚æ¯å¹´æ˜¥ç§‹å­£èŠ‚ï¼Œè¿™é‡Œè¿˜æ˜¯å€™é¸Ÿè¿å¾™çš„é‡è¦é©¿ç«™ã€‚'
              }
            ]
          },
          {
            day: 3,
            title: 'ç¬¬ä¸‰å¤©ï¼šå±±æµ·å…³é•¿åŸ',
            locations: [
              {
                name: 'å±±æµ·å…³',
                desc: 'å¤©ä¸‹ç¬¬ä¸€å…³ï¼Œæ˜ä»£é•¿åŸèµ·ç‚¹ï¼Œå†›äº‹è¦å¡',
                time: '3-5å°æ—¶',
                transport: [
                  { type: 'ğŸš‡', route: 'é«˜é“è‡³å±±æµ·å…³ç«™' },
                  { type: 'ğŸš•', route: 'æ­¥è¡Œå¯è¾¾' }
                ],
                details: 'å±±æµ·å…³æ˜¯æ˜é•¿åŸçš„ä¸œåŒ—å…³éš˜ä¹‹ä¸€ï¼Œç´ æœ‰"å¤©ä¸‹ç¬¬ä¸€å…³"ä¹‹ç§°ã€‚å…³åŸå‘¨é•¿çº¦4å…¬é‡Œï¼Œä¸é•¿åŸç›¸è¿ï¼Œæ˜¯å¤ä»£é‡è¦çš„å†›äº‹é˜²å¾¡ä½“ç³»ã€‚'
              },
              {
                name: 'è€é¾™å¤´',
                desc: 'é•¿åŸå…¥æµ·å¤„ï¼Œå”¯ä¸€çš„æµ·ä¸Šé•¿åŸ',
                time: '2-3å°æ—¶',
                transport: [
                  { type: 'ğŸš•', route: 'ä»å±±æµ·å…³æ‰“è½¦çº¦15åˆ†é’Ÿ' }
                ],
                details: 'è€é¾™å¤´æ˜¯æ˜é•¿åŸçš„ä¸œéƒ¨èµ·ç‚¹ï¼Œé•¿åŸä»è¿™é‡Œå…¥æµ·ï¼ŒçŠ¹å¦‚é¾™å¤´æ¢å…¥å¤§æµ·ï¼Œå› æ­¤å¾—åã€‚è¿™é‡Œå¯ä»¥æ¬£èµåˆ°é•¿åŸä¸å¤§æµ·äº¤æ±‡çš„å£®è§‚æ™¯è±¡ã€‚'
              }
            ]
          }
        ],
        tips: [
          'æå‰é¢„è®¢é«˜é“ç¥¨ï¼ŒèŠ‚å‡æ—¥è½¦ç¥¨ç´§å¼ ï¼Œå»ºè®®æå‰1-2å‘¨è´­ç¥¨',
          'å¤å­£æ³¨æ„é˜²æ™’ï¼Œæµ·è¾¹ç´«å¤–çº¿è¾ƒå¼ºï¼Œå»ºè®®æºå¸¦é˜²æ™’éœœå’Œé®é˜³å¸½',
          'å“å°å½“åœ°ç‰¹è‰²ï¼šæ‰¿å¾·çƒ¤å…¨ç¾Šã€ç§¦çš‡å²›æµ·é²œã€å±±æµ·å…³æµ‘é”…',
          'æ‰¿å¾·é¿æš‘å±±åº„é¢ç§¯è¾ƒå¤§ï¼Œå»ºè®®ç©¿èˆ’é€‚çš„è¿åŠ¨é‹',
          'åŒ—æˆ´æ²³æµ·æ»¨æ—©æ™šæ¸©å·®è¾ƒå¤§ï¼Œå»ºè®®æºå¸¦è–„å¤–å¥—'
        ],
        mapMarkers: [
          {longitude: 117.9398, latitude: 40.9762, title: 'æ‰¿å¾·é¿æš‘å±±åº„'},
          {longitude: 117.9500, latitude: 40.9800, title: 'æ™®é™€å®—ä¹˜ä¹‹åº™'},
          {longitude: 119.6005, latitude: 39.9354, title: 'åŒ—æˆ´æ²³æµ·æ»¨'},
          {longitude: 119.6100, latitude: 39.9400, title: 'é¸½å­çªå…¬å›­'},
          {longitude: 119.7750, latitude: 40.0086, title: 'å±±æµ·å…³'},
          {longitude: 119.7850, latitude: 40.0150, title: 'è€é¾™å¤´'}
        ],
        mapPolyline: [
          {
            points: [
              {longitude: 117.9398, latitude: 40.9762},
              {longitude: 117.9500, latitude: 40.9800},
              {longitude: 119.6005, latitude: 39.9354},
              {longitude: 119.6100, latitude: 39.9400},
              {longitude: 119.7750, latitude: 40.0086},
              {longitude: 119.7850, latitude: 40.0150}
            ],
            color: '#165DFF',
            width: 6,
            dottedLine: false
          }
        ]
      },
      'hebei_cultural_5days': {
        id: 'hebei_cultural_5days',
        title: 'æ²³åŒ—æ–‡åŒ–æ·±åº¦5æ—¥æ¸¸',
        subtitle: 'ä¿å®šç›´éš¶æ€»ç£ç½²ã€æ­£å®šå¤åŸã€èµµå·æ¡¥æ–‡åŒ–ä¹‹æ—…',
        image: '/static/images/templates/baoding.jpg',
        category: 'æ²³åŒ—çœç‰¹è‰²',
        description: 'ä¿å®šç›´éš¶æ€»ç£ç½²ã€æ­£å®šå¤åŸã€èµµå·æ¡¥æ–‡åŒ–ä¹‹æ—…',
        rating: 4.7,
        usageCount: 89,
        tags: ['5å¤©è¡Œç¨‹', 'æ–‡åŒ–æ·±åº¦', 'å†å²æ¢ç´¢'],
        days: [
          {
            day: 1,
            title: 'ç¬¬ä¸€å¤©ï¼šä¿å®šç›´éš¶æ€»ç£ç½²',
            locations: [
              {
                name: 'ç›´éš¶æ€»ç£ç½²',
                desc: 'æ¸…ä»£ç›´éš¶çœæœ€é«˜è¡Œæ”¿æœºæ„ï¼Œä¸­å›½ç°å­˜æœ€å®Œæ•´çš„æ¸…ä»£çœçº§è¡™ç½²',
                time: '2-3å°æ—¶',
                transport: [
                  { type: 'ğŸš‡', route: 'é«˜é“è‡³ä¿å®šä¸œç«™' },
                  { type: 'ğŸš•', route: 'å‡ºç§Ÿè½¦çº¦15åˆ†é’Ÿ' }
                ],
                details: 'ç›´éš¶æ€»ç£ç½²å§‹å»ºäºæ˜æ´ªæ­¦å¹´é—´ï¼Œæ˜¯æ¸…ä»£ç›´éš¶çœçš„æœ€é«˜è¡Œæ”¿æœºæ„ã€‚è¡™ç½²å»ºç­‘ç¾¤ä¿å­˜å®Œå¥½ï¼Œæ˜¯ç ”ç©¶æ¸…ä»£å®˜ç½²å»ºç­‘å’Œè¡Œæ”¿åˆ¶åº¦çš„é‡è¦å®ç‰©èµ„æ–™ã€‚'
              },
              {
                name: 'å¤è²èŠ±æ± ',
                desc: 'åŒ—æ–¹å¤ä»£å›­æ—æ˜ç ï¼Œæœ‰"åŸå¸‚è“¬è±"ä¹‹ç§°',
                time: '1-2å°æ—¶',
                transport: [
                  { type: 'ğŸš•', route: 'ä»æ€»ç£ç½²æ­¥è¡Œçº¦10åˆ†é’Ÿ' }
                ],
                details: 'å¤è²èŠ±æ± å§‹å»ºäºå…ƒæœï¼Œæ˜¯ä¿å®šè‘—åçš„å¤å…¸å›­æ—ã€‚å›­å†…äº­å°æ¥¼é˜é”™è½æœ‰è‡´ï¼Œæ± æ°´æ¸…æ¾ˆï¼Œè·èŠ±ç››å¼€æ—¶æ™¯è‰²å°¤ä¸ºè¿·äººã€‚'
              }
            ]
          },
          {
            day: 2,
            title: 'ç¬¬äºŒå¤©ï¼šæ­£å®šå¤åŸ',
            locations: [
              {
                name: 'æ­£å®šå¤åŸ',
                desc: 'å†å²æ–‡åŒ–ååŸï¼Œæ‹¥æœ‰éš†å…´å¯ºã€ä¸´æµå¯ºç­‰å¤å»ºç­‘ç¾¤',
                time: '4-5å°æ—¶',
                transport: [
                  { type: 'ğŸš‡', route: 'é«˜é“è‡³æ­£å®šæœºåœºç«™' },
                  { type: 'ğŸš•', route: 'å‡ºç§Ÿè½¦çº¦25åˆ†é’Ÿ' }
                ],
                details: 'æ­£å®šå¤åŸå†å²æ‚ ä¹…ï¼ŒåŸå†…ä¿å­˜æœ‰éš†å…´å¯ºã€ä¸´æµå¯ºã€å¼€å…ƒå¯ºç­‰å¤šå¤„å›½å®¶çº§æ–‡ç‰©ä¿æŠ¤å•ä½ã€‚éš†å…´å¯ºå†…çš„åƒæ‰‹è§‚éŸ³åƒé«˜è¾¾21.3ç±³ï¼Œæ˜¯ä¸­å›½ç°å­˜æœ€é«˜çš„å¤ä»£é“œé“¸ä½›åƒã€‚'
              },
              {
                name: 'è£å›½åºœ',
                desc: 'ä»¿å¤å»ºç­‘ç¾¤ï¼Œç”µè§†å‰§ã€Šçº¢æ¥¼æ¢¦ã€‹æ‹æ‘„åœ°',
                time: '2-3å°æ—¶',
                transport: [
                  { type: 'ğŸš•', route: 'ä»å¤åŸä¸­å¿ƒæ‰“è½¦çº¦10åˆ†é’Ÿ' }
                ],
                details: 'è£å›½åºœæ˜¯ä¸ºæ‹æ‘„ç”µè§†å‰§ã€Šçº¢æ¥¼æ¢¦ã€‹è€Œå»ºçš„ä»¿å¤å»ºç­‘ç¾¤ï¼Œå†ç°äº†æ¸…ä»£è´µæ—åºœé‚¸çš„å®ä¼Ÿæ°”åŠ¿ã€‚å›­å†…å»ºç­‘ç²¾ç¾ï¼Œæ˜¯äº†è§£æ¸…ä»£å»ºç­‘è‰ºæœ¯çš„å¥½å»å¤„ã€‚'
              }
            ]
          }
        ],
        tips: [
          'å»ºè®®è˜è¯·ä¸“ä¸šå¯¼æ¸¸è®²è§£å†å²æ–‡åŒ–èƒŒæ™¯ï¼Œæ·±åº¦äº†è§£æ™¯ç‚¹å†…æ¶µ',
          'å¤åŸå†…æ­¥è¡Œè¾ƒå¤šï¼Œå»ºè®®ç©¿èˆ’é€‚çš„è¿åŠ¨é‹ï¼Œæºå¸¦é¥®ç”¨æ°´',
          'å“å°å½“åœ°ç‰¹è‰²ç¾é£Ÿï¼šä¿å®šé©´è‚‰ç«çƒ§ã€æ­£å®šçƒ§é¥¼ã€èµµå¿é›ªèŠ±æ¢¨',
          'æ˜¥ç§‹å­£èŠ‚æ˜¯æœ€ä½³æ¸¸è§ˆæ—¶é—´ï¼Œæ°”å€™å®œäººï¼Œæ™¯è‰²ä¼˜ç¾',
          'æ³¨æ„æ–‡ç‰©ä¿æŠ¤ï¼Œä¸è¦åœ¨å¤è¿¹ä¸Šæ¶‚é¸¦æˆ–åˆ»å­—'
        ],
        mapMarkers: [
          {longitude: 115.4907, latitude: 38.8730, title: 'ç›´éš¶æ€»ç£ç½²'},
          {longitude: 115.5000, latitude: 38.8800, title: 'å¤è²èŠ±æ± '},
          {longitude: 114.5700, latitude: 38.1470, title: 'æ­£å®šå¤åŸ'},
          {longitude: 114.5800, latitude: 38.1500, title: 'è£å›½åºœ'}
        ],
        mapPolyline: [
          {
            points: [
              {longitude: 115.4907, latitude: 38.8730},
              {longitude: 115.5000, latitude: 38.8800},
              {longitude: 114.5700, latitude: 38.1470},
              {longitude: 114.5800, latitude: 38.1500}
            ],
            color: '#FF7D00',
            width: 6,
            dottedLine: false
          }
        ]
      }
    };
  }

  // è·å–æ‰€æœ‰æ¨¡æ¿
  getAllTemplates() {
    return Object.values(this.templates);
  }

  // æ ¹æ®IDè·å–æ¨¡æ¿
  getTemplateById(id) {
    return this.templates[id];
  }

  // æ ¹æ®åˆ†ç±»è·å–æ¨¡æ¿
  getTemplatesByCategory(category) {
    const allTemplates = this.getAllTemplates();
    if (category === 'all') {
      return allTemplates;
    }
    return allTemplates.filter(template => template.category === category);
  }

  // æœç´¢æ¨¡æ¿
  searchTemplates(keyword) {
    const allTemplates = this.getAllTemplates();
    if (!keyword) return allTemplates;
    
    const lowerKeyword = keyword.toLowerCase();
    return allTemplates.filter(template => 
      template.title.toLowerCase().includes(lowerKeyword) ||
      template.description.toLowerCase().includes(lowerKeyword) ||
      template.tags.some(tag => tag.toLowerCase().includes(lowerKeyword))
    );
  }

  // å¢åŠ æ¨¡æ¿ä½¿ç”¨æ¬¡æ•°
  incrementUsageCount(templateId) {
    const template = this.templates[templateId];
    if (template) {
      template.usageCount = (template.usageCount || 0) + 1;
    }
  }
}

// åˆ›å»ºå•ä¾‹å®ä¾‹
const templateService = new TemplateService();

export default templateService;