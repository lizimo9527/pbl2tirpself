{"version":3,"file":"create.js","sources":["pages/create/create.vue","D:/studytools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY3JlYXRlL2NyZWF0ZS52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"create-container\">\r\n\t\t<!-- æ—…è¡Œæ”»ç•¥å¡ç‰‡ -->\r\n\t\t<view class=\"guide-card\">\r\n\t\t\t<!-- èƒŒæ™¯å›¾åŒºåŸŸ -->\r\n\t\t\t<view class=\"banner-section\">\r\n\t\t\t\t<!-- åœ°å›¾æŒ‰é’® -->\r\n\t\t\t\t<view class=\"map-button-wrapper\">\r\n\t\t\t\t\t<button class=\"map-button\" @click=\"showMapView\">\r\n\t\t\t\t\t\t<text class=\"map-button-icon\">ğŸ“</text>\r\n\t\t\t\t\t\t<text class=\"map-button-text\">æŸ¥çœ‹åœ°å›¾</text>\r\n\t\t\t\t\t</button>\r\n\t\t</view>\r\n\t\t\t\t<image \r\n\t\t\t\t\t:src=\"bannerImage\" \r\n\t\t\t\t\tmode=\"aspectFill\" \r\n\t\t\t\t\tclass=\"banner-image\"\r\n\t\t\t\t\t@click=\"changeBannerImage\"\r\n\t\t\t\t></image>\r\n\t\t\t\t<view class=\"banner-overlay\"></view>\r\n\t\t\t\t<view class=\"banner-content\">\r\n\t\t\t\t\t<view class=\"title-wrapper\">\r\n\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\tclass=\"guide-title editable\" \r\n\t\t\t\t\t\t\t:class=\"{ editing: editingTitle }\"\r\n\t\t\t\t\t\t\t@tap=\"startEditTitle\"\r\n\t\t\t\t\t\t\tv-if=\"!editingTitle\"\r\n\t\t\t\t\t\t>{{ title || 'åŒ—äº¬ä¸‰æ—¥æ¸¸è·¯çº¿' }}</text>\r\n\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\tclass=\"title-input\"\r\n\t\t\t\t\t\t\tv-model=\"title\"\r\n\t\t\t\t\t\t\t@blur=\"saveTitle\"\r\n\t\t\t\t\t\t\t@confirm=\"saveTitle\"\r\n\t\t\t\t\t\t\t:focus=\"editingTitle\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- æŠ˜å å¼èœå•åŒºåŸŸ -->\r\n\t\t\t<view class=\"content-section\">\r\n\t\t\t\t<!-- æ–°å¢å¤©æ•°æŒ‰é’® -->\r\n\t\t\t\t<view class=\"add-day-wrapper\">\r\n\t\t\t\t\t<button class=\"add-day-btn\" @click=\"addNewDay\">\r\n\t\t\t\t\t\t<text class=\"add-icon\">+</text>\r\n\t\t\t\t\t\t<text class=\"add-text\">æ–°å¢å¤©æ•°</text>\r\n\t\t\t\t\t</button>\r\n\t\t\t</view>\r\n\r\n\t\t\t\t<!-- å¤©æ•°åˆ—è¡¨ -->\r\n\t\t\t\t<view \r\n\t\t\t\t\tv-for=\"(day, dayIndex) in days\" \r\n\t\t\t\t\t:key=\"day.id\"\r\n\t\t\t\t\tclass=\"day-section\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<view class=\"day-header\" @tap=\"toggleDay(dayIndex)\">\r\n\t\t\t\t\t\t<view class=\"day-title-wrapper\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tclass=\"day-number\" \r\n\t\t\t\t\t\t\t\t:class=\"{ 'delete-highlight': deletingDayIndex === dayIndex }\"\r\n\t\t\t\t\t\t\t\t@tap.stop=\"showDeleteDayConfirm(dayIndex)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{{ dayIndex + 1 }}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"day-title-input-wrapper\">\r\n\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\tclass=\"day-title editable\" \r\n\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingDayTitle === dayIndex }\"\r\n\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditDayTitle(dayIndex)\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"editingDayTitle !== dayIndex\"\r\n\t\t\t\t\t\t\t\t>{{ day.title || `ç¬¬${dayIndex + 1}å¤©ï¼šè¡Œç¨‹` }}</text>\r\n\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\tclass=\"day-title-input\"\r\n\t\t\t\t\t\t\t\t\tv-model=\"day.title\"\r\n\t\t\t\t\t\t\t\t\t@blur=\"saveDayTitle(dayIndex)\"\r\n\t\t\t\t\t\t\t\t\t@confirm=\"saveDayTitle(dayIndex)\"\r\n\t\t\t\t\t\t\t\t\t:focus=\"editingDayTitle === dayIndex\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\tclass=\"day-toggle-icon\" \r\n\t\t\t\t\t\t\t:class=\"{ rotated: day.expanded }\"\r\n\t\t\t\t\t\t>â–¼</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"day-content\" v-show=\"day.expanded\">\r\n\t\t\t\t\t\t<!-- æ–°å¢åœ°ç‚¹æŒ‰é’® -->\r\n\t\t\t\t\t\t<view class=\"add-location-wrapper\">\r\n\t\t\t\t\t\t\t<button class=\"add-location-btn\" @click=\"addNewLocation(dayIndex)\">\r\n\t\t\t\t\t\t\t\t<text class=\"add-icon-small\">+</text>\r\n\t\t\t\t\t\t\t\t<text class=\"add-text-small\">æ–°å¢åœ°ç‚¹</text>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"locations-list\">\r\n\t\t\t\t\t\t\t<view \r\n\t\t\t\t\t\t\t\tv-for=\"(location, locIndex) in day.locations\" \r\n\t\t\t\t\t\t\t\t:key=\"location.id\"\r\n\t\t\t\t\t\t\t\tclass=\"location-card\"\r\n\t\t\t\t\t\t\t\t:class=\"{ 'delete-highlight': deletingLocationId === location.id }\"\r\n\t\t\t\t\t\t\t\t@tap=\"toggleLocationDetails(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t@longpress=\"showDeleteLocationConfirm(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<view class=\"location-header\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"location-info\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"location-name-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-name editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationName === `${dayIndex}-${locIndex}` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationName(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationName !== `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t>{{ location.name || 'æ–°åœ°ç‚¹' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-name-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationName(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationName(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationName === `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"location-desc-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-desc editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationDesc === `${dayIndex}-${locIndex}` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationDesc(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationDesc !== `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t>{{ location.description || 'è¯·è¾“å…¥åœ°ç‚¹æè¿°' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-desc-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.description\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationDesc(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationDesc(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationDesc === `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"location-actions\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"time-badge\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"time-icon\">â°</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time-input-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"time-text editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationTime === `${dayIndex}-${locIndex}` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationTime(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationTime !== `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{{ location.time || '1-2å°æ—¶' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"time-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.time\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationTime(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationTime(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationTime === `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<button \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"location-btn\" \r\n\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"showLocationOnMap(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"location-icon\">ğŸ“</text>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t\t\t\t\t<!-- åœ°ç‚¹è¯¦æƒ… -->\r\n\t\t\t\t\t\t\t\t<view class=\"location-details\" v-show=\"location.showDetails\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"transport-section\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"transport-title-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-title editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportTitle === `${dayIndex}-${locIndex}` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportTitle(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportTitle !== `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t>äº¤é€šæ–¹å¼</text>\r\n\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-title-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.transportTitle\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportTitle(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportTitle(dayIndex, locIndex)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportTitle === `${dayIndex}-${locIndex}`\"\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"transport-grid\">\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"transport-icon\">ğŸš‡</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-type-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportType === `${dayIndex}-${locIndex}-subway` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportType(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportType !== `${dayIndex}-${locIndex}-subway`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ location.subwayType || 'åœ°é“' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.subwayType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportType(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportType(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportType === `${dayIndex}-${locIndex}-subway`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-detail-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportDetail === `${dayIndex}-${locIndex}-subway` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportDetail(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportDetail !== `${dayIndex}-${locIndex}-subway`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ location.subwayDetail || 'è¯·è¾“å…¥åœ°é“çº¿è·¯' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.subwayDetail\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportDetail(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportDetail(dayIndex, locIndex, 'subway')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportDetail === `${dayIndex}-${locIndex}-subway`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-item\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"transport-icon\">ğŸš•</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-info\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-type-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportType === `${dayIndex}-${locIndex}-taxi` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportType(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportType !== `${dayIndex}-${locIndex}-taxi`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ location.taxiType || 'å‡ºç§Ÿè½¦' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.taxiType\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportType(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportType(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportType === `${dayIndex}-${locIndex}-taxi`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-detail-wrapper\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail editable\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportDetail === `${dayIndex}-${locIndex}-taxi` }\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportDetail(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportDetail !== `${dayIndex}-${locIndex}-taxi`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{ location.taxiDetail || 'è¯·è¾“å…¥å‡ºç§Ÿè½¦ä¿¡æ¯' }}</text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail-input\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.taxiDetail\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportDetail(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportDetail(dayIndex, locIndex, 'taxi')\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportDetail === `${dayIndex}-${locIndex}-taxi`\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- æ”»ç•¥æ€»ç»“ -->\r\n\t\t\t<view class=\"tips-section\">\r\n\t\t\t\t<view class=\"tips-title-wrapper\">\r\n\t\t\t\t\t<text \r\n\t\t\t\t\t\tclass=\"tips-title editable\" \r\n\t\t\t\t\t\t:class=\"{ editing: editingTipsTitle }\"\r\n\t\t\t\t\t\t@tap=\"startEditTipsTitle\"\r\n\t\t\t\t\t\tv-if=\"!editingTipsTitle\"\r\n\t\t\t\t\t>æ—…è¡Œå°è´´å£«</text>\r\n\t\t\t\t\t<input \r\n\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\tclass=\"tips-title-input\"\r\n\t\t\t\t\t\tv-model=\"tipsTitle\"\r\n\t\t\t\t\t\t@blur=\"saveTipsTitle\"\r\n\t\t\t\t\t\t@confirm=\"saveTipsTitle\"\r\n\t\t\t\t\t\t:focus=\"editingTipsTitle\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t<view class=\"tips-list\">\r\n\t\t\t\t\t<view \r\n\t\t\t\t\t\tv-for=\"(tip, tipIndex) in tips\" \r\n\t\t\t\t\t\t:key=\"tipIndex\"\r\n\t\t\t\t\t\tclass=\"tip-item\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<text class=\"tip-icon\">â„¹ï¸</text>\r\n\t\t\t\t\t\t<view class=\"tip-text-wrapper\">\r\n\t\t\t\t\t\t\t<text \r\n\t\t\t\t\t\t\t\tclass=\"tip-text editable\" \r\n\t\t\t\t\t\t\t\t:class=\"{ editing: editingTipIndex === tipIndex }\"\r\n\t\t\t\t\t\t\t\t@tap=\"startEditTip(tipIndex)\"\r\n\t\t\t\t\t\t\t\tv-if=\"editingTipIndex !== tipIndex\"\r\n\t\t\t\t\t\t\t>{{ tip }}</text>\r\n\t\t\t\t\t\t\t<input \r\n\t\t\t\t\t\t\t\tv-else\r\n\t\t\t\t\t\t\t\tclass=\"tip-text-input\"\r\n\t\t\t\t\t\t\t\tv-model=\"tips[tipIndex]\"\r\n\t\t\t\t\t\t\t\t@blur=\"saveTip(tipIndex)\"\r\n\t\t\t\t\t\t\t\t@confirm=\"saveTip(tipIndex)\"\r\n\t\t\t\t\t\t\t\t:focus=\"editingTipIndex === tipIndex\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† -->\r\n\t\t<view class=\"delete-overlay\" v-if=\"showDeleteConfirm\" @tap=\"cancelDelete\"></view>\r\n\t\t<view class=\"delete-confirm\" v-if=\"showDeleteConfirm\">\r\n\t\t\t<text class=\"delete-title\">ç¡®è®¤åˆ é™¤</text>\r\n\t\t\t<text class=\"delete-message\">{{ deleteMessage }}</text>\r\n\t\t\t<view class=\"delete-actions\">\r\n\t\t\t\t<button class=\"cancel-delete-btn\" @tap=\"cancelDelete\">å–æ¶ˆ</button>\r\n\t\t\t\t<button class=\"confirm-delete-btn\" @tap=\"confirmDelete\">ç¡®è®¤åˆ é™¤</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- é¡µè„š -->\r\n\t\t<view class=\"footer\">\r\n\t\t\t<text class=\"footer-text\">Â© 2025 æ—…è¡Œæ”»ç•¥ | è®¾è®¡ä¸å¼€å‘</text>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- å…¨å±åœ°å›¾è§†å›¾ -->\r\n\t\t<view class=\"map-container\" v-if=\"showMap\" @tap=\"closeMap\">\r\n\t\t\t<view class=\"map-header\" @tap.stop>\r\n\t\t\t\t<button class=\"map-close-btn\" @tap=\"closeMap\">\r\n\t\t\t\t\t<text class=\"close-icon\">Ã—</text>\r\n\t\t\t\t</button>\r\n\t\t\t\t<text class=\"map-title\">{{ mapTitle }}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"map-content\" @tap.stop>\r\n\t\t\t\t<!-- ä½¿ç”¨keyå¼ºåˆ¶é‡æ–°åˆ›å»ºåœ°å›¾ï¼Œé¿å…å“åº”å¼æ›´æ–°å¯¼è‡´è‡ªåŠ¨ç§»åŠ¨ -->\r\n\t\t\t\t<map \r\n\t\t\t\t\tv-if=\"showMap\"\r\n\t\t\t\t\t:key=\"`map-${mapKey}`\"\r\n\t\t\t\t\tid=\"fullMap\"\r\n\t\t\t\t\t:longitude=\"staticMapLongitude\"\r\n\t\t\t\t\t:latitude=\"staticMapLatitude\"\r\n\t\t\t\t\t:scale=\"staticMapScale\"\r\n\t\t\t\t\t:markers=\"markersLocked ? mapMarkers : []\"\r\n\t\t\t\t\t:polyline=\"markersLocked ? mapPolyline : []\"\r\n\t\t\t\t\t:show-location=\"false\"\r\n\t\t\t\t\t:enable-zoom=\"true\"\r\n\t\t\t\t\t:enable-scroll=\"true\"\r\n\t\t\t\t\t:enable-rotate=\"false\"\r\n\t\t\t\t\t:enable-overlooking=\"false\"\r\n\t\t\t\t\t:enable-poi=\"true\"\r\n\t\t\t\t\t:enable-building=\"true\"\r\n\t\t\t\t\tclass=\"full-map\"\r\n\t\t\t\t\t@markertap=\"onMapMarkerTap\"\r\n\t\t\t\t\t@regionchange=\"onMapRegionChange\"\r\n\t\t\t\t\t@tap=\"onMapTap\"\r\n\t\t\t\t\t@updated=\"onMapUpdated\"\r\n\t\t\t\t></map>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { mapConfig, mapUtils } from '../../config/map.config.js'\r\n\timport locationService from '../../services/location.service.js'\r\n\timport guideService from '../../services/guideService.js'\r\n\t\r\n\t// é¢„è®¾åœ°ç‚¹åæ ‡\r\n\tconst locationCoordinates = {\r\n\t\t'æ•…å®«åšç‰©é™¢': { lat: 39.916327, lng: 116.397128 },\r\n\t\t'å¤©å®‰é—¨å¹¿åœº': { lat: 39.905466, lng: 116.391543 },\r\n\t\t'å‰é—¨å¤§è¡—': { lat: 39.904692, lng: 116.395935 },\r\n\t\t'é¢å’Œå›­': { lat: 39.998576, lng: 116.275596 },\r\n\t\t'å›½å®¶ä½“è‚²åœºï¼ˆé¸Ÿå·¢ï¼‰': { lat: 39.990884, lng: 116.396565 },\r\n\t\t'å›½å®¶æ¸¸æ³³ä¸­å¿ƒï¼ˆæ°´ç«‹æ–¹ï¼‰': { lat: 39.991826, lng: 116.395425 },\r\n\t\t'å—é”£é¼“å··': { lat: 39.946942, lng: 116.407045 },\r\n\t\t'ä»€åˆ¹æµ·': { lat: 39.942226, lng: 116.397128 },\r\n\t\t'798è‰ºæœ¯åŒº': { lat: 39.998879, lng: 116.497012 }\r\n\t}\r\n\t\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// åŸºæœ¬ä¿¡æ¯\r\n\t\t\t\ttitle: 'è¯·è¾“å…¥æ ‡é¢˜',\r\n\t\t\t\tsubtitle: '',\r\n\t\t\t\tbannerImage: '/static/images/background/banner.jpg',\r\n\t\t\t\t\r\n\t\t\t\t// ç¼–è¾‘çŠ¶æ€\r\n\t\t\t\teditingTitle: false,\r\n\t\t\t\teditingSubtitle: false,\r\n\t\t\t\teditingDayTitle: null,\r\n\t\t\t\teditingLocationName: null,\r\n\t\t\t\teditingLocationDesc: null,\r\n\t\t\t\teditingLocationTime: null,\r\n\t\t\t\teditingTransportTitle: null,\r\n\t\t\t\teditingTransportType: null,\r\n\t\t\t\teditingTransportDetail: null,\r\n\t\t\t\teditingTipsTitle: false,\r\n\t\t\t\teditingTipIndex: null,\r\n\t\t\t\ttipsTitle: 'æ—…è¡Œå°è´´å£«',\r\n\t\t\t\t\r\n\t\t\t\t// å¤©æ•°æ•°æ®\r\n\t\t\t\tdays: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tid: 'day1',\r\n\t\t\t\t\t\ttitle: 'ç¬¬ä¸€å¤©',\r\n\t\t\t\t\t\texpanded: true,\r\n\t\t\t\t\t\tlocations: []\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\t// æ—…è¡Œå°è´´å£«\r\n\t\t\t\ttips: [\r\n\t\t\t\t\t'æå‰é¢„çº¦æ•…å®«ã€é¢å’Œå›­ç­‰çƒ­é—¨æ™¯ç‚¹é—¨ç¥¨ï¼Œé¿å…è€½è¯¯è¡Œç¨‹',\r\n\t\t\t\t\t'å»ºè®®è´­ä¹°åŒ—äº¬äº¤é€šä¸€å¡é€šï¼Œæ–¹ä¾¿ä¹˜ååœ°é“å’Œå…¬äº¤è½¦',\r\n\t\t\t\t\t'æ ¹æ®å­£èŠ‚å‡†å¤‡è¡£ç‰©ï¼Œæ˜¥ç§‹å­£æ—©æ™šæ¸©å·®è¾ƒå¤§',\r\n\t\t\t\t\t'å“å°åŒ—äº¬ç‰¹è‰²ç¾é£Ÿï¼šåŒ—äº¬çƒ¤é¸­ã€ç‚¸é…±é¢ã€è±†æ±ç„¦åœˆç­‰'\r\n\t\t\t\t],\r\n\t\t\t\t\r\n\t\t\t\t// åˆ é™¤ç¡®è®¤\r\n\t\t\t\tshowDeleteConfirm: false,\r\n\t\t\t\tdeleteMessage: '',\r\n\t\t\t\tdeleteType: null, // 'day' or 'location'\r\n\t\t\t\tdeleteDayIndex: null,\r\n\t\t\t\tdeleteLocationDayIndex: null,\r\n\t\t\t\tdeleteLocationIndex: null,\r\n\t\t\t\tdeletingDayIndex: null,\r\n\t\t\t\tdeletingLocationId: null,\r\n\t\t\t\t\r\n\t\t\t\t// åœ°å›¾ç›¸å…³\r\n\t\t\t\tshowMap: false,\r\n\t\t\t\tmapTitle: 'åŒ—äº¬ä¸‰æ—¥æ¸¸è·¯çº¿åœ°å›¾',\r\n\t\t\t\tmapCenter: {\r\n\t\t\t\t\tlongitude: mapConfig.defaultCenter.longitude,\r\n\t\t\t\t\tlatitude: mapConfig.defaultCenter.latitude\r\n\t\t\t\t},\r\n\t\t\t\tmapScale: 12,\r\n\t\t\t\tmapMarkers: [],\r\n\t\t\t\tmapPolyline: [],\r\n\t\t\t\tmapIncludePoints: [], // åŒ…å«æ‰€æœ‰æ ‡è®°ç‚¹çš„åŒºåŸŸï¼Œç”¨äºå›ºå®šåœ°å›¾è§†å›¾èŒƒå›´\r\n\t\t\t\t// ä½¿ç”¨é™æ€çš„ä¸­å¿ƒç‚¹ï¼Œä¸åœ¨å“åº”å¼ç³»ç»Ÿä¸­æ›´æ–°\r\n\t\t\t\tstaticMapLongitude: mapConfig.defaultCenter.longitude,\r\n\t\t\t\tstaticMapLatitude: mapConfig.defaultCenter.latitude,\r\n\t\t\t\tstaticMapScale: 12,\r\n\t\t\t\tisMapUpdating: false, // æ ‡è®°åœ°å›¾æ˜¯å¦æ­£åœ¨æ›´æ–°ï¼Œé˜²æ­¢è‡ªåŠ¨ç§»åŠ¨\r\n\t\t\t\tmapInitialized: false, // æ ‡è®°åœ°å›¾æ˜¯å¦å·²åˆå§‹åŒ–ï¼Œé˜²æ­¢é‡å¤ç§»åŠ¨\r\n\t\t\t\tmapKey: 0, // ç”¨äºå¼ºåˆ¶é‡æ–°åˆ›å»ºåœ°å›¾ç»„ä»¶\r\n\t\t\t\tmarkersLocked: false, // æ ‡è®° markers æ˜¯å¦å·²é”å®šï¼Œé”å®šåä¸å†æ›´æ–°\r\n\t\t\t\tregionChangeTimer: null, // regionchange äº‹ä»¶é˜²æŠ–å®šæ—¶å™¨\r\n\t\t\t\t\r\n\t\t\t\t// ç¼–è¾‘æ¨¡å¼\r\n\t\t\t\teditMode: false,\r\n\t\t\t\tguideId: ''\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tmethods: {\r\n\t\t\t// ç¼–è¾‘åŠŸèƒ½\r\n\t\t\tstartEditTitle() {\r\n\t\t\t\tthis.editingTitle = true\r\n\t\t\t},\r\n\t\t\tsaveTitle() {\r\n\t\t\t\tthis.editingTitle = false\r\n\t\t\t},\r\n\t\t\tstartEditSubtitle() {\r\n\t\t\t\tthis.editingSubtitle = true\r\n\t\t\t},\r\n\t\t\tsaveSubtitle() {\r\n\t\t\t\tthis.editingSubtitle = false\r\n\t\t\t},\r\n\t\t\tstartEditDayTitle(dayIndex) {\r\n\t\t\t\tthis.editingDayTitle = dayIndex\r\n\t\t\t},\r\n\t\t\tsaveDayTitle(dayIndex) {\r\n\t\t\t\tthis.editingDayTitle = null\r\n\t\t\t},\r\n\t\t\tstartEditLocationName(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationName = `${dayIndex}-${locIndex}`\r\n\t\t\t},\r\n\t\t\tsaveLocationName(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationName = null\r\n\t\t\t},\r\n\t\t\tstartEditLocationDesc(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationDesc = `${dayIndex}-${locIndex}`\r\n\t\t\t},\r\n\t\t\tsaveLocationDesc(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationDesc = null\r\n\t\t\t},\r\n\t\t\tstartEditLocationTime(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationTime = `${dayIndex}-${locIndex}`\r\n\t\t\t},\r\n\t\t\tsaveLocationTime(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingLocationTime = null\r\n\t\t\t},\r\n\t\t\tstartEditTransportTitle(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingTransportTitle = `${dayIndex}-${locIndex}`\r\n\t\t\t},\r\n\t\t\tsaveTransportTitle(dayIndex, locIndex) {\r\n\t\t\t\tthis.editingTransportTitle = null\r\n\t\t\t},\r\n\t\t\tstartEditTransportType(dayIndex, locIndex, type) {\r\n\t\t\t\tthis.editingTransportType = `${dayIndex}-${locIndex}-${type}`\r\n\t\t\t},\r\n\t\t\tsaveTransportType(dayIndex, locIndex, type) {\r\n\t\t\t\tthis.editingTransportType = null\r\n\t\t\t},\r\n\t\t\tstartEditTransportDetail(dayIndex, locIndex, type) {\r\n\t\t\t\tthis.editingTransportDetail = `${dayIndex}-${locIndex}-${type}`\r\n\t\t\t},\r\n\t\t\tsaveTransportDetail(dayIndex, locIndex, type) {\r\n\t\t\t\tthis.editingTransportDetail = null\r\n\t\t\t},\r\n\t\t\tstartEditTipsTitle() {\r\n\t\t\t\tthis.editingTipsTitle = true\r\n\t\t\t},\r\n\t\t\tsaveTipsTitle() {\r\n\t\t\t\tthis.editingTipsTitle = false\r\n\t\t\t},\r\n\t\t\tstartEditTip(tipIndex) {\r\n\t\t\t\tthis.editingTipIndex = tipIndex\r\n\t\t\t},\r\n\t\t\tsaveTip(tipIndex) {\r\n\t\t\t\tthis.editingTipIndex = null\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// å¤©æ•°ç®¡ç†\r\n\t\t\ttoggleDay(dayIndex) {\r\n\t\t\t\tthis.days[dayIndex].expanded = !this.days[dayIndex].expanded\r\n\t\t\t},\r\n\t\t\taddNewDay() {\r\n\t\t\t\tconst newDay = {\r\n\t\t\t\t\tid: `day${this.days.length + 1}`,\r\n\t\t\t\t\ttitle: `ç¬¬${this.days.length + 1}å¤©ï¼šè¡Œç¨‹`,\r\n\t\t\t\t\texpanded: true,\r\n\t\t\t\t\tlocations: []\r\n\t\t\t\t}\r\n\t\t\t\tthis.days.push(newDay)\r\n\t\t\t},\r\n\t\t\tshowDeleteDayConfirm(dayIndex) {\r\n\t\t\t\tthis.deleteType = 'day'\r\n\t\t\t\tthis.deleteDayIndex = dayIndex\r\n\t\t\t\tthis.deletingDayIndex = dayIndex\r\n\t\t\t\tthis.deleteMessage = 'æ‚¨ç¡®å®šè¦åˆ é™¤è¿™ä¸€å¤©çš„æ‰€æœ‰è¡Œç¨‹å—ï¼Ÿ'\r\n\t\t\t\tthis.showDeleteConfirm = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// åœ°ç‚¹ç®¡ç†\r\n\t\t\ttoggleLocationDetails(dayIndex, locIndex) {\r\n\t\t\t\tthis.days[dayIndex].locations[locIndex].showDetails = \r\n\t\t\t\t\t!this.days[dayIndex].locations[locIndex].showDetails\r\n\t\t\t},\r\n\t\t\taddNewLocation(dayIndex) {\r\n\t\t\t\tconst newLocation = {\r\n\t\t\t\t\tid: `loc${dayIndex + 1}-${this.days[dayIndex].locations.length + 1}`,\r\n\t\t\t\t\tname: 'æ–°åœ°ç‚¹',\r\n\t\t\t\t\tdescription: 'è¯·è¾“å…¥åœ°ç‚¹æè¿°',\r\n\t\t\t\t\ttime: '1-2å°æ—¶',\r\n\t\t\t\t\tshowDetails: false,\r\n\t\t\t\t\tsubwayType: 'åœ°é“',\r\n\t\t\t\t\tsubwayDetail: 'è¯·è¾“å…¥åœ°é“çº¿è·¯',\r\n\t\t\t\t\ttaxiType: 'å‡ºç§Ÿè½¦',\r\n\t\t\t\t\ttaxiDetail: 'è¯·è¾“å…¥å‡ºç§Ÿè½¦ä¿¡æ¯',\r\n\t\t\t\t\ttransportTitle: 'äº¤é€šæ–¹å¼',\r\n\t\t\t\t\tcoordinates: null\r\n\t\t\t\t}\r\n\t\t\t\tthis.days[dayIndex].locations.push(newLocation)\r\n\t\t\t},\r\n\t\t\tshowDeleteLocationConfirm(dayIndex, locIndex) {\r\n\t\t\t\tthis.deleteType = 'location'\r\n\t\t\t\tthis.deleteLocationDayIndex = dayIndex\r\n\t\t\t\tthis.deleteLocationIndex = locIndex\r\n\t\t\t\tthis.deletingLocationId = this.days[dayIndex].locations[locIndex].id\r\n\t\t\t\tthis.deleteMessage = 'æ‚¨ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåœ°ç‚¹å—ï¼Ÿ'\r\n\t\t\t\tthis.showDeleteConfirm = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// åˆ é™¤ç¡®è®¤\r\n\t\t\tconfirmDelete() {\r\n\t\t\t\tif (this.deleteType === 'day') {\r\n\t\t\t\t\tthis.days.splice(this.deleteDayIndex, 1)\r\n\t\t\t\t\t// é‡æ–°ç¼–å·å¤©æ•°\r\n\t\t\t\t\tthis.days.forEach((day, index) => {\r\n\t\t\t\t\t\tday.title = day.title.replace(/ç¬¬\\d+å¤©/, `ç¬¬${index + 1}å¤©`)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.deleteType === 'location') {\r\n\t\t\t\t\tthis.days[this.deleteLocationDayIndex].locations.splice(this.deleteLocationIndex, 1)\r\n\t\t\t\t}\r\n\t\t\t\tthis.cancelDelete()\r\n\t\t\t},\r\n\t\t\tcancelDelete() {\r\n\t\t\t\tthis.showDeleteConfirm = false\r\n\t\t\t\tthis.deleteType = null\r\n\t\t\t\tthis.deleteDayIndex = null\r\n\t\t\t\tthis.deleteLocationDayIndex = null\r\n\t\t\t\tthis.deleteLocationIndex = null\r\n\t\t\t\tthis.deletingDayIndex = null\r\n\t\t\t\tthis.deletingLocationId = null\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// åœ°å›¾åŠŸèƒ½\r\n\t\t\tshowMapView() {\r\n\t\t\t\t// è®¾ç½®åœ°å›¾æ ‡é¢˜ä¸ºæ”»ç•¥æ ‡é¢˜\r\n\t\t\t\tthis.mapTitle = this.title || 'æ—…è¡Œæ”»ç•¥åœ°å›¾'\r\n\t\t\t\t\r\n\t\t\t\t// é‡ç½®çŠ¶æ€\r\n\t\t\t\tthis.mapInitialized = false // é‡ç½®åˆå§‹åŒ–æ ‡å¿—\r\n\t\t\t\tthis.markersLocked = false // é‡ç½®æ ‡è®°é”å®š\r\n\t\t\t\tthis.isMapUpdating = true // ç«‹å³è®¾ç½®ä¸ºæ›´æ–°ä¸­ï¼Œé˜²æ­¢regionchangeè§¦å‘\r\n\t\t\t\t// æ¸…ç©ºæ ‡è®°ï¼Œå…ˆä¸æ˜¾ç¤º\r\n\t\t\t\tthis.mapMarkers = []\r\n\t\t\t\tthis.mapPolyline = []\r\n\t\t\t\tthis.mapIncludePoints = []\r\n\t\t\t\t\r\n\t\t\t\t// å¢åŠ keyå€¼ï¼Œå¼ºåˆ¶é‡æ–°åˆ›å»ºåœ°å›¾ç»„ä»¶\r\n\t\t\t\tthis.mapKey++\r\n\t\t\t\tthis.showMap = true\r\n\t\t\t\t\r\n\t\t\t\t// ç­‰å¾…åœ°å›¾ç»„ä»¶æ¸²æŸ“å®Œæˆåå†åˆå§‹åŒ–\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.initMapMarkers()\r\n\t\t\t\t\t}, 300) // å¢åŠ å»¶è¿Ÿæ—¶é—´ï¼Œç¡®ä¿åœ°å›¾å®Œå…¨åŠ è½½\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcloseMap() {\r\n\t\t\t\tthis.showMap = false\r\n\t\t\t\t// æ¸…é™¤å®šæ—¶å™¨\r\n\t\t\t\tif (this.regionChangeTimer) {\r\n\t\t\t\t\tclearTimeout(this.regionChangeTimer)\r\n\t\t\t\t\tthis.regionChangeTimer = null\r\n\t\t\t\t}\r\n\t\t\t\t// é‡ç½®åœ°å›¾æ›´æ–°æ ‡å¿—å’Œåˆå§‹åŒ–æ ‡å¿—\r\n\t\t\t\tthis.isMapUpdating = false\r\n\t\t\t\tthis.mapInitialized = false\r\n\t\t\t\tthis.markersLocked = false\r\n\t\t\t\tthis.mapMarkers = []\r\n\t\t\t\tthis.mapPolyline = []\r\n\t\t\t\tthis.mapIncludePoints = []\r\n\t\t\t},\r\n\t\t\tonMapUpdated() {\r\n\t\t\t\t// åœ°å›¾æ›´æ–°å®Œæˆäº‹ä»¶ï¼Œå¯ä»¥ç”¨æ¥ç¡®è®¤åœ°å›¾å·²åŠ è½½\r\n\t\t\t\t// ç°åœ¨ä¸å†éœ€è¦åˆ›å»ºåœ°å›¾ä¸Šä¸‹æ–‡ï¼Œå› ä¸ºæˆ‘ä»¬ç›´æ¥é€šè¿‡å±æ€§ç»‘å®šæ§åˆ¶åœ°å›¾\r\n\t\t\t},\r\n\t\t\tinitMapMarkers() {\r\n\t\t\t\t// å…ˆå‡†å¤‡æ ‡è®°æ•°æ®ï¼Œä½†ä¸ç«‹å³æ·»åŠ åˆ°åœ°å›¾\r\n\t\t\t\tlet allPoints = []\r\n\t\t\t\tlet markerIdCounter = 0\r\n\t\t\t\tconst markersToAdd = []\r\n\t\t\t\t\r\n\t\t\t\tthis.days.forEach((day, dayIndex) => {\r\n\t\t\t\t\tday.locations.forEach((location, locIndex) => {\r\n\t\t\t\t\t\tif (location.coordinates && location.coordinates.lng && location.coordinates.lat) {\r\n\t\t\t\t\t\t\t// éªŒè¯åæ ‡æœ‰æ•ˆæ€§\r\n\t\t\t\t\t\t\tconst lng = Number(location.coordinates.lng)\r\n\t\t\t\t\t\t\tconst lat = Number(location.coordinates.lat)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (!isNaN(lng) && !isNaN(lat) && \r\n\t\t\t\t\t\t\t\tMath.abs(lng) <= 180 && Math.abs(lat) <= 90) {\r\n\t\t\t\t\t\t\t\tconst marker = {\r\n\t\t\t\t\t\t\t\t\tid: markerIdCounter++, // ä½¿ç”¨æ•°å­—ID\r\n\t\t\t\t\t\t\t\t\tlongitude: lng,\r\n\t\t\t\t\t\t\t\t\tlatitude: lat,\r\n\t\t\t\t\t\t\t\t\ttitle: location.name,\r\n\t\t\t\t\t\t\t\t\ticonPath: '/static/images/map/marker.png',\r\n\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\theight: 30,\r\n\t\t\t\t\t\t\t\t\tcallout: {\r\n\t\t\t\t\t\t\t\t\t\tcontent: `${dayIndex + 1}-${location.name}`,\r\n\t\t\t\t\t\t\t\t\t\tcolor: '#ffffff',\r\n\t\t\t\t\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\t\t\t\t\t\tbgColor: this.getDayColor(dayIndex),\r\n\t\t\t\t\t\t\t\t\t\tpadding: 8,\r\n\t\t\t\t\t\t\t\t\t\tdisplay: 'ALWAYS',\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'center'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tmarkersToAdd.push(marker)\r\n\t\t\t\t\t\t\t\tconst point = {\r\n\t\t\t\t\t\t\t\t\tlongitude: lng,\r\n\t\t\t\t\t\t\t\t\tlatitude: lat\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tallPoints.push(point)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t\r\n\t\t\t\t// åªåœ¨ç¬¬ä¸€æ¬¡åˆå§‹åŒ–æ—¶è®¾ç½®åœ°å›¾ä¸­å¿ƒ\r\n\t\t\t\tif (allPoints.length > 0 && !this.mapInitialized) {\r\n\t\t\t\t\tthis.mapInitialized = true\r\n\t\t\t\t\t\r\n\t\t\t\t\t// è®¡ç®—æ‰€æœ‰ç‚¹çš„ä¸­å¿ƒä½ç½®ï¼ˆæ›´å‡†ç¡®ï¼‰\r\n\t\t\t\t\tlet centerLng = 0\r\n\t\t\t\t\tlet centerLat = 0\r\n\t\t\t\t\tallPoints.forEach(point => {\r\n\t\t\t\t\t\tcenterLng += Number(point.longitude)\r\n\t\t\t\t\t\tcenterLat += Number(point.latitude)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tconst targetLng = centerLng / allPoints.length\r\n\t\t\t\t\tconst targetLat = centerLat / allPoints.length\r\n\t\t\t\t\t\r\n\t\t\t\t\t// éªŒè¯ä¸­å¿ƒç‚¹åæ ‡æœ‰æ•ˆæ€§\r\n\t\t\t\t\tif (isNaN(targetLng) || isNaN(targetLat) || \r\n\t\t\t\t\t\tMath.abs(targetLng) > 180 || Math.abs(targetLat) > 90) {\r\n\t\t\t\t\t\tconsole.error('è®¡ç®—çš„åœ°å›¾ä¸­å¿ƒç‚¹åæ ‡æ— æ•ˆ')\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// æ ¹æ®æ ‡è®°ç‚¹æ•°é‡è°ƒæ•´ç¼©æ”¾çº§åˆ«\r\n\t\t\t\t\tconst targetScale = allPoints.length === 1 ? 16 : (allPoints.length <= 3 ? 14 : 12)\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ç›´æ¥è®¾ç½®é™æ€ä¸­å¿ƒç‚¹ï¼ˆç²¾ç¡®åˆ°6ä½å°æ•°ï¼‰\r\n\t\t\t\t\tthis.staticMapLongitude = Number(targetLng.toFixed(6))\r\n\t\t\t\t\tthis.staticMapLatitude = Number(targetLat.toFixed(6))\r\n\t\t\t\t\tthis.staticMapScale = targetScale\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ç›´æ¥é€šè¿‡ç»‘å®šå±æ€§è®¾ç½®åœ°å›¾ä¸­å¿ƒç‚¹ï¼Œä¸éœ€è¦ä½¿ç”¨ moveToLocation\r\n\t\t\t\t\t// è¿™æ ·å¯ä»¥é¿å…åœ°å›¾ä¸Šä¸‹æ–‡ç›¸å…³çš„é”™è¯¯ï¼Œå¹¶ä¸”å®šä½æ›´å‡†ç¡®ã€æ›´å¿«\r\n\t\t\t\t\t// è®¾ç½®æ›´æ–°æ ‡å¿—ï¼Œé˜»æ­¢ regionchange äº‹ä»¶\r\n\t\t\t\t\tthis.isMapUpdating = true\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ç­‰å¾…åœ°å›¾ç»„ä»¶å®Œå…¨åˆå§‹åŒ–åå†æ·»åŠ æ ‡è®°å’Œè·¯çº¿\r\n\t\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.mapMarkers = markersToAdd\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// æ·»åŠ è·¯çº¿è¿çº¿\r\n\t\t\t\t\t\t\tif (allPoints.length > 1) {\r\n\t\t\t\t\t\t\t\tthis.mapPolyline = [{\r\n\t\t\t\t\t\t\t\t\tpoints: allPoints,\r\n\t\t\t\t\t\t\t\t\tcolor: '#1A9E8F',\r\n\t\t\t\t\t\t\t\t\twidth: 4,\r\n\t\t\t\t\t\t\t\t\tdottedLine: false\r\n\t\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// é”å®š markersï¼Œé˜²æ­¢åç»­æ›´æ–°å¯¼è‡´åœ°å›¾ç§»åŠ¨\r\n\t\t\t\t\t\t\tthis.markersLocked = true\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// å»¶è¿Ÿé‡ç½®æ›´æ–°æ ‡å¿—ï¼Œç»™åœ°å›¾æ—¶é—´ç¨³å®š\r\n\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\tthis.isMapUpdating = false\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}, 300) // å¢åŠ å»¶è¿Ÿæ—¶é—´ï¼Œç¡®ä¿åœ°å›¾å®Œå…¨åŠ è½½\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.mapInitialized && this.markersLocked) {\r\n\t\t\t\t\t// å¦‚æœå·²ç»åˆå§‹åŒ–ä¸” markers å·²é”å®šï¼Œä¸å†æ›´æ–°\r\n\t\t\t\t\t// ä¿æŒç°æœ‰æ ‡è®°ä¸å˜\r\n\t\t\t\t\treturn\r\n\t\t\t\t} else if (allPoints.length === 0) {\r\n\t\t\t\t\t// å¦‚æœæ²¡æœ‰æœ‰æ•ˆçš„åœ°ç‚¹åæ ‡ï¼Œæ˜¾ç¤ºæç¤º\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'æš‚æ— æœ‰æ•ˆåœ°ç‚¹åæ ‡',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetDayColor(dayIndex) {\r\n\t\t\t\tconst colors = ['#165DFF', '#FF7D00', '#10B981', '#8B5CF6', '#EC4899']\r\n\t\t\t\treturn colors[dayIndex % colors.length]\r\n\t\t\t},\r\n\t\t\tasync showLocationOnMap(dayIndex, locIndex) {\r\n\t\t\t\tconst location = this.days[dayIndex].locations[locIndex]\r\n\t\t\t\t\r\n\t\t\t\tif (!location || !location.name || !location.name.trim()) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'åœ°ç‚¹åç§°ä¸èƒ½ä¸ºç©º',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// å¦‚æœæ²¡æœ‰åæ ‡ï¼Œå°è¯•è·å–\r\n\t\t\t\tif (!location.coordinates) {\r\n\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\ttitle: 'æ­£åœ¨å®šä½...'\r\n\t\t\t\t\t})\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst coords = await locationService.getCoordinatesByName(location.name.trim())\r\n\t\t\t\t\t\tif (coords && coords.latitude && coords.longitude) {\r\n\t\t\t\t\t\t\tlocation.coordinates = {\r\n\t\t\t\t\t\t\t\tlat: coords.latitude,\r\n\t\t\t\t\t\t\t\tlng: coords.longitude\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow new Error('è·å–åæ ‡å¤±è´¥')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.error('è·å–åæ ‡å¤±è´¥:', error)\r\n\t\t\t\t\t\t// ä½¿ç”¨é¢„è®¾åæ ‡\r\n\t\t\t\t\t\tif (locationCoordinates[location.name]) {\r\n\t\t\t\t\t\t\tlocation.coordinates = {\r\n\t\t\t\t\t\t\t\tlat: locationCoordinates[location.name].lat,\r\n\t\t\t\t\t\t\t\tlng: locationCoordinates[location.name].lng\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: 'æ— æ³•è·å–åœ°ç‚¹åæ ‡ï¼Œè¯·æ£€æŸ¥åœ°ç‚¹åç§°',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// éªŒè¯åæ ‡æ˜¯å¦æœ‰æ•ˆ\r\n\t\t\t\tif (!location.coordinates || !location.coordinates.lng || !location.coordinates.lat) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'åœ°ç‚¹åæ ‡æ— æ•ˆï¼Œæ— æ³•æ˜¾ç¤ºåœ°å›¾',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// ç²¾ç¡®è®¾ç½®åæ ‡ï¼ˆç²¾ç¡®åˆ°6ä½å°æ•°ï¼‰\r\n\t\t\t\tconst targetLng = Number(Number(location.coordinates.lng).toFixed(6))\r\n\t\t\t\tconst targetLat = Number(Number(location.coordinates.lat).toFixed(6))\r\n\t\t\t\t\r\n\t\t\t\t// éªŒè¯åæ ‡èŒƒå›´\r\n\t\t\t\tif (isNaN(targetLng) || isNaN(targetLat) || \r\n\t\t\t\t\tMath.abs(targetLng) > 180 || Math.abs(targetLat) > 90) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'åœ°ç‚¹åæ ‡è¶…å‡ºæœ‰æ•ˆèŒƒå›´',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// æ˜¾ç¤ºåœ°å›¾å¹¶å®šä½\r\n\t\t\t\t// å…ˆè®¾ç½®åœ°å›¾æ ‡é¢˜ä¸ºæ”»ç•¥æ ‡é¢˜\r\n\t\t\t\tthis.mapTitle = this.title || 'æ—…è¡Œæ”»ç•¥åœ°å›¾'\r\n\t\t\t\tthis.mapInitialized = false // é‡ç½®åˆå§‹åŒ–æ ‡å¿—\r\n\t\t\t\tthis.markersLocked = false // é‡ç½®æ ‡è®°é”å®š\r\n\t\t\t\tthis.isMapUpdating = true // ç«‹å³è®¾ç½®ä¸ºæ›´æ–°ä¸­\r\n\t\t\t\t\r\n\t\t\t\t// å…ˆæ¸…ç©ºæ ‡è®°\r\n\t\t\t\tthis.mapMarkers = []\r\n\t\t\t\tthis.mapPolyline = []\r\n\t\t\t\tthis.mapIncludePoints = []\r\n\t\t\t\t\r\n\t\t\t\t// è®¾ç½®é™æ€ä¸­å¿ƒç‚¹å’Œç¼©æ”¾çº§åˆ«ï¼ˆåœ¨åœ°å›¾æ˜¾ç¤ºä¹‹å‰è®¾ç½®ï¼‰\r\n\t\t\t\tthis.staticMapLongitude = targetLng\r\n\t\t\t\tthis.staticMapLatitude = targetLat\r\n\t\t\t\tthis.staticMapScale = 16\r\n\t\t\t\t\r\n\t\t\t\t// å¢åŠ keyå€¼ï¼Œå¼ºåˆ¶é‡æ–°åˆ›å»ºåœ°å›¾ç»„ä»¶\r\n\t\t\t\tthis.mapKey++\r\n\t\t\t\tthis.showMap = true\r\n\t\t\t\t\r\n\t\t\t\t// å‡†å¤‡æ ‡è®°\r\n\t\t\t\tconst markerToAdd = {\r\n\t\t\t\t\tid: 0, // ä½¿ç”¨æ•°å­—ID\r\n\t\t\t\t\tlongitude: targetLng,\r\n\t\t\t\t\tlatitude: targetLat,\r\n\t\t\t\t\ttitle: location.name,\r\n\t\t\t\t\ticonPath: '/static/images/map/marker.png',\r\n\t\t\t\t\twidth: 30,\r\n\t\t\t\t\theight: 30,\r\n\t\t\t\t\tcallout: {\r\n\t\t\t\t\t\tcontent: location.name,\r\n\t\t\t\t\t\tcolor: '#ffffff',\r\n\t\t\t\t\t\tfontSize: 14,\r\n\t\t\t\t\t\tborderRadius: 4,\r\n\t\t\t\t\t\tbgColor: this.getDayColor(dayIndex),\r\n\t\t\t\t\t\tpadding: 8,\r\n\t\t\t\t\t\tdisplay: 'ALWAYS',\r\n\t\t\t\t\t\ttextAlign: 'center'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// ç­‰å¾…åœ°å›¾ç»„ä»¶æ¸²æŸ“å®Œæˆåå†æ·»åŠ æ ‡è®°\r\n\t\t\t\tthis.$nextTick(() => {\r\n\t\t\t\t\t// å†æ¬¡ç­‰å¾…ï¼Œç¡®ä¿åœ°å›¾ç»„ä»¶å®Œå…¨åˆå§‹åŒ–\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.mapMarkers = [markerToAdd]\r\n\t\t\t\t\t\tthis.mapPolyline = []\r\n\t\t\t\t\t\tthis.mapInitialized = true\r\n\t\t\t\t\t\tthis.markersLocked = true // é”å®šæ ‡è®°\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// å»¶è¿Ÿé‡ç½®æ›´æ–°æ ‡å¿—ï¼Œç»™åœ°å›¾æ—¶é—´ç¨³å®š\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tthis.isMapUpdating = false\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t}, 300) // å¢åŠ å»¶è¿Ÿæ—¶é—´ï¼Œç¡®ä¿åœ°å›¾å®Œå…¨åŠ è½½\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonMapMarkerTap(e) {\r\n\t\t\t\tconst markerId = e.detail.markerId\r\n\t\t\t\tconst marker = this.mapMarkers.find(m => m.id === markerId)\r\n\t\t\t\tif (marker) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: marker.title,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonMapTap(e) {\r\n\t\t\t\t// åœ°å›¾ç‚¹å‡»äº‹ä»¶ï¼Œç”¨äºè°ƒè¯•\r\n\t\t\t\t// console.log('åœ°å›¾è¢«ç‚¹å‡»', e)\r\n\t\t\t},\r\n\t\t\tonMapRegionChange(e) {\r\n\t\t\t\t// å¦‚æœåœ°å›¾æ­£åœ¨æ›´æ–°ä¸­ï¼Œå®Œå…¨å¿½ç•¥æ‰€æœ‰äº‹ä»¶\r\n\t\t\t\tif (this.isMapUpdating) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// å¦‚æœ markers å·²é”å®šï¼Œè¯´æ˜åœ°å›¾å·²ç»ç¨³å®š\r\n\t\t\t\tif (this.markersLocked) {\r\n\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æ˜¯ç”¨æˆ·æ“ä½œ\r\n\t\t\t\t\tconst causedBy = e.causedBy || ''\r\n\t\t\t\t\tconst type = e.type || ''\r\n\t\t\t\t\t\r\n\t\t\t\t\t// åªå…è®¸ç”¨æˆ·çš„æ‹–åŠ¨ã€ç¼©æ”¾ç­‰æ“ä½œï¼ˆend äº‹ä»¶ï¼‰\r\n\t\t\t\t\tif (type === 'end' && (causedBy === 'drag' || causedBy === 'scale' || causedBy === 'gesture')) {\r\n\t\t\t\t\t\t// ç”¨æˆ·æ“ä½œï¼Œå…è®¸ä½†ä¸æ›´æ–°æ•°æ®\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// begin å’Œ update äº‹ä»¶éƒ½å¿½ç•¥ï¼ˆé˜²æ­¢è‡ªåŠ¨ç§»åŠ¨ï¼‰\r\n\t\t\t\t\tif (type === 'begin' || type === 'update') {\r\n\t\t\t\t\t\t// å¦‚æœæ˜¯è‡ªåŠ¨è§¦å‘çš„å˜åŒ–ï¼Œç«‹å³é˜»æ­¢\r\n\t\t\t\t\t\tif (causedBy !== 'drag' && causedBy !== 'scale' && causedBy !== 'gesture') {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// å…¶ä»–æƒ…å†µï¼ˆè‡ªåŠ¨é€‚é…ç­‰ï¼‰ï¼Œå¿½ç•¥è¿™äº›äº‹ä»¶\r\n\t\t\t\t\t// å› ä¸ºæˆ‘ä»¬å·²ç»é€šè¿‡ markersLocked å’Œé™æ€ä¸­å¿ƒç‚¹æ¥å›ºå®šåœ°å›¾ä½ç½®\r\n\t\t\t\t\t// ä¸éœ€è¦é¢å¤–çš„æ“ä½œï¼Œç›´æ¥å¿½ç•¥å³å¯\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// å¦‚æœåœ°å›¾å·²åˆå§‹åŒ–ä½† markers æœªé”å®šï¼Œè¯´æ˜æ­£åœ¨æ·»åŠ  markers\r\n\t\t\t\t// æ­¤æ—¶é˜»æ­¢æ‰€æœ‰è‡ªåŠ¨å˜åŒ–\r\n\t\t\t\tif (this.mapInitialized && !this.markersLocked) {\r\n\t\t\t\t\tconst causedBy = e.causedBy || ''\r\n\t\t\t\t\t// åªå…è®¸ç”¨æˆ·æ“ä½œ\r\n\t\t\t\t\tif (causedBy !== 'drag' && causedBy !== 'scale' && causedBy !== 'gesture') {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// æ›´æ¢èƒŒæ™¯å›¾\r\n\t\t\tchangeBannerImage() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.bannerImage = res.tempFilePaths[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// ä¿å­˜æ”»ç•¥\r\n\t\t\tsaveGuide() {\r\n\t\t\t\t\tconst guideData = {\r\n\t\t\t\t\ttitle: this.title,\r\n\t\t\t\t\tsubtitle: this.subtitle,\r\n\t\t\t\t\tbannerImage: this.bannerImage,\r\n\t\t\t\t\tdays: this.days,\r\n\t\t\t\t\ttips: this.tips,\r\n\t\t\t\t\ttipsTitle: this.tipsTitle,\r\n\t\t\t\t\t\tstatus: 'draft',\r\n\t\t\t\t\tcreateTime: new Date().toISOString()\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (this.editMode && this.guideId) {\r\n\t\t\t\t\tguideData.id = this.guideId\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconst success = guideService.saveGuide(guideData)\r\n\t\t\t\t\tif (success) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: 'ä¿å­˜æˆåŠŸ',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// åŠ è½½æ”»ç•¥æ•°æ®\r\n\t\t\tloadGuideData() {\r\n\t\t\t\tconst guide = guideService.getGuideById(this.guideId)\r\n\t\t\t\tif (guide) {\r\n\t\t\t\t\tthis.title = guide.title || 'åŒ—äº¬ä¸‰æ—¥æ¸¸è·¯çº¿'\r\n\t\t\t\t\tthis.subtitle = guide.subtitle || 'æ¢ç´¢é¦–éƒ½ç²¾åæ™¯ç‚¹ï¼Œæ„Ÿå—å†å²ä¸ç°ä»£äº¤è'\r\n\t\t\t\t\tthis.bannerImage = guide.bannerImage || '/static/images/background/banner.jpg'\r\n\t\t\t\t\tthis.days = guide.days || this.days\r\n\t\t\t\t\tthis.tips = guide.tips || this.tips\r\n\t\t\t\t\tthis.tipsTitle = guide.tipsTitle || 'æ—…è¡Œå°è´´å£«'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tonLoad(options) {\r\n\t\t\tif (options.id && options.mode === 'edit') {\r\n\t\t\t\tthis.editMode = true\r\n\t\t\t\tthis.guideId = options.id\r\n\t\t\t\tthis.loadGuideData()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.create-container {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f7fa;\r\n\t\tpadding: 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.guide-card {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 24rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.08);\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tmax-width: 100%;\r\n\t}\r\n\t\r\n\t/* èƒŒæ™¯å›¾åŒºåŸŸ */\r\n\t.banner-section {\r\n\t\tposition: relative;\r\n\t\theight: 400rpx;\r\n\t\tmin-height: 300rpx;\r\n\t}\r\n\t\r\n\t.map-button-wrapper {\r\n\t\tposition: absolute;\r\n\t\ttop: 20rpx;\r\n\t\tright: 20rpx;\r\n\t\tz-index: 10;\r\n\t}\r\n\t\r\n\t.map-button {\r\n\t\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\t\tcolor: #165DFF;\r\n\t\tfont-size: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t\tpadding: 12rpx 24rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.15);\r\n\t\tline-height: 1;\r\n\t}\r\n\t\r\n\t.map-button-icon {\r\n\t\tmargin-right: 6rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t.map-button-text {\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t\r\n\t.banner-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\t\r\n\t.banner-overlay {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\theight: 150rpx;\r\n\t\tbackground: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);\r\n\t}\r\n\t\r\n\t.banner-content {\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tpadding: 30rpx 24rpx;\r\n\t\twidth: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.title-wrapper {\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t\r\n\t.guide-title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: white;\r\n\t\ttext-shadow: 0 2rpx 6rpx rgba(0, 0, 0, 0.4);\r\n\t\tdisplay: block;\r\n\t\tline-height: 1.4;\r\n\t\tword-break: break-word;\r\n\t}\r\n\t\r\n\t.title-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: rgba(255, 255, 255, 0.95);\r\n\t\tpadding: 12rpx 16rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.editable {\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.editable.editing {\r\n\t\toutline: 2rpx solid #165DFF;\r\n\t\tborder-radius: 4rpx;\r\n\t}\r\n\t\r\n\t/* å†…å®¹åŒºåŸŸ */\r\n\t.content-section {\r\n\t\tpadding: 30rpx 24rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.add-day-wrapper {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.add-day-btn {\r\n\t\tbackground-color: #165DFF;\r\n\t\tcolor: white;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tpadding: 14rpx 28rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tborder: none;\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tline-height: 1;\r\n\t}\r\n\t\r\n\t.add-icon {\r\n\t\tmargin-right: 8rpx;\r\n\t\tfont-size: 32rpx;\r\n\t}\r\n\t\r\n\t.add-icon-small {\r\n\t\tmargin-right: 4rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t\r\n\t.add-text-small {\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\t\r\n\t/* å¤©æ•°åŒºåŸŸ */\r\n\t.day-section {\r\n\t\tmargin-bottom: 30rpx;\r\n\t\tborder-bottom: 2rpx solid #e5e5e5;\r\n\t\tpadding-bottom: 30rpx;\r\n\t}\r\n\t\r\n\t.day-section:last-child {\r\n\t\tborder-bottom: none;\r\n\t\tmargin-bottom: 0;\r\n\t\tpadding-bottom: 0;\r\n\t}\r\n\t\r\n\t.day-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\t\r\n\t.day-title-wrapper {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex: 1;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.day-number {\r\n\t\twidth: 56rpx;\r\n\t\theight: 56rpx;\r\n\t\tmin-width: 56rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #165DFF;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\t\r\n\t.day-number.delete-highlight {\r\n\t\tbackground-color: #f87171;\r\n\t}\r\n\t\r\n\t.day-title-input-wrapper {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.day-title {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #165DFF;\r\n\t\tword-break: break-word;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\t\r\n\t.day-title-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 12rpx 16rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.day-toggle-icon {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #165DFF;\r\n\t\ttransition: transform 0.3s;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.day-toggle-icon.rotated {\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t\r\n\t.day-content {\r\n\t\tmargin-top: 24rpx;\r\n\t}\r\n\t\r\n\t.add-location-wrapper {\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\t\r\n\t.add-location-btn {\r\n\t\tbackground-color: #FF7D00;\r\n\t\tcolor: white;\r\n\t\tfont-size: 22rpx;\r\n\t\tfont-weight: 500;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tborder: none;\r\n\t\tdisplay: inline-flex;\r\n\t\talign-items: center;\r\n\t\tline-height: 1;\r\n\t}\r\n\r\n\t/* åœ°ç‚¹å¡ç‰‡ */\r\n\t.locations-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 24rpx;\r\n\t}\r\n\t\r\n\t.location-card {\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tborder-radius: 20rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.location-card.delete-highlight {\r\n\t\tbackground-color: #fee2e2;\r\n\t}\r\n\t\r\n\t.location-header {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: flex-start;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\t\r\n\t.location-info {\r\n\t\tflex: 1;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.location-name-wrapper, .location-desc-wrapper {\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\t\r\n\t.location-name {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #1E293B;\r\n\t\tdisplay: block;\r\n\t\tword-break: break-word;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\t\r\n\t.location-name-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: white;\r\n\t\tpadding: 10rpx 12rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: 600;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.location-desc {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tword-break: break-word;\r\n\t\tline-height: 1.5;\r\n\t}\r\n\t\r\n\t.location-desc-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: white;\r\n\t\tpadding: 10rpx 12rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.location-actions {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.time-badge {\r\n\t\tbackground-color: rgba(255, 125, 0, 0.1);\r\n\t\tcolor: #FF7D00;\r\n\t\tpadding: 6rpx 16rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t.time-icon {\r\n\t\tmargin-right: 6rpx;\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\t\r\n\t.time-input-wrapper {\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.time-text {\r\n\t\tfont-size: 22rpx;\r\n\t}\r\n\t\r\n\t.time-input {\r\n\t\twidth: 100rpx;\r\n\t\tbackground: white;\r\n\t\tpadding: 4rpx 6rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.location-btn {\r\n\t\twidth: 56rpx;\r\n\t\theight: 56rpx;\r\n\t\tmin-width: 56rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #165DFF;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.15);\r\n\t}\r\n\t\r\n\t.location-icon {\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\t\r\n\t/* åœ°ç‚¹è¯¦æƒ… */\r\n\t.location-details {\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\t\r\n\t.transport-section {\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tborder: 2rpx solid #e5e5e5;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.transport-title-wrapper {\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 12rpx;\r\n\t}\r\n\t\r\n\t.transport-title {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #1E293B;\r\n\t}\r\n\t\r\n\t.transport-title-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 10rpx 12rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.transport-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: 1fr 1fr;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\t\r\n\t.transport-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 12rpx;\r\n\t\tborder: 2rpx solid #e5e5e5;\r\n\t\tborder-radius: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.transport-icon {\r\n\t\tfont-size: 36rpx;\r\n\t\tmargin-right: 12rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.transport-info {\r\n\t\tflex: 1;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.transport-type-wrapper, .transport-detail-wrapper {\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 6rpx;\r\n\t}\r\n\t\r\n\t.transport-type {\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #1E293B;\r\n\t\tdisplay: block;\r\n\t\tword-break: break-word;\r\n\t}\r\n\t\r\n\t.transport-type-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 6rpx 8rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.transport-detail {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tword-break: break-word;\r\n\t\tline-height: 1.4;\r\n\t}\r\n\t\r\n\t.transport-detail-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: #f9f9f9;\r\n\t\tpadding: 6rpx 8rpx;\r\n\t\tborder-radius: 4rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t/* æ—…è¡Œå°è´´å£« */\r\n\t.tips-section {\r\n\t\tbackground-color: rgba(22, 93, 255, 0.05);\r\n\t\tpadding: 30rpx 24rpx;\r\n\t\tborder-top: 2rpx solid #f0f0f0;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.tips-title-wrapper {\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\t\r\n\t.tips-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #165DFF;\r\n\t}\r\n\t\r\n\t.tips-title-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: white;\r\n\t\tpadding: 12rpx 16rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.tips-list {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\t\r\n\t.tip-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\t\r\n\t.tip-icon {\r\n\t\tmargin-right: 12rpx;\r\n\t\tmargin-top: 2rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.tip-text-wrapper {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\tmin-width: 0;\r\n\t}\r\n\t\r\n\t.tip-text {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #333;\r\n\t\tline-height: 1.6;\r\n\t\tword-break: break-word;\r\n\t}\r\n\t\r\n\t.tip-text-input {\r\n\t\twidth: 100%;\r\n\t\tbackground: white;\r\n\t\tpadding: 10rpx 12rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t/* åˆ é™¤ç¡®è®¤å¯¹è¯æ¡† */\r\n\t.delete-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\r\n\t\tz-index: 40;\r\n\t}\r\n\t\r\n\t.delete-confirm {\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tbackground: white;\r\n\t\tpadding: 32rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.2);\r\n\t\tz-index: 50;\r\n\t\tmin-width: 480rpx;\r\n\t\tmax-width: 90%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.delete-title {\r\n\t\tfont-size: 36rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #ef4444;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\t\r\n\t.delete-message {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #666;\r\n\t\tdisplay: block;\r\n\t\tmargin-bottom: 32rpx;\r\n\t\tline-height: 1.5;\r\n\t\tword-break: break-word;\r\n\t}\r\n\t\r\n\t.delete-actions {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: flex-end;\r\n\t\tgap: 16rpx;\r\n\t}\r\n\t\r\n\t.cancel-delete-btn, .confirm-delete-btn {\r\n\t\tpadding: 16rpx 32rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tborder: none;\r\n\t\tline-height: 1;\r\n\t}\r\n\t\r\n\t.cancel-delete-btn {\r\n\t\tbackground-color: #f8f9fa;\r\n\t\tcolor: #666;\r\n\t\tborder: 2rpx solid #e5e5e5;\r\n\t}\r\n\t\r\n\t.confirm-delete-btn {\r\n\t\tbackground-color: #ef4444;\r\n\t\tcolor: white;\r\n\t}\r\n\t\r\n\t/* é¡µè„š */\r\n\t.footer {\r\n\t\ttext-align: center;\r\n\t\tpadding: 32rpx 0;\r\n\t}\r\n\t\r\n\t.footer-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\t\r\n\t/* å…¨å±åœ°å›¾ */\r\n\t.map-container {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: white;\r\n\t\tz-index: 100;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.map-header {\r\n\t\tposition: relative;\r\n\t\theight: 100rpx;\r\n\t\tbackground: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0 24rpx;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\r\n\t\tz-index: 101;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.map-close-btn {\r\n\t\tposition: absolute;\r\n\t\tleft: 20rpx;\r\n\t\tbackground: #165DFF;\r\n\t\tcolor: white;\r\n\t\tborder: none;\r\n\t\twidth: 64rpx;\r\n\t\theight: 64rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 32rpx;\r\n\t\tflex-shrink: 0;\r\n\t}\r\n\t\r\n\t.map-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #1E293B;\r\n\t\ttext-align: center;\r\n\t\tword-break: break-word;\r\n\t\tflex: 1;\r\n\t\tpadding: 0 80rpx;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t\r\n\t.map-content {\r\n\t\tflex: 1;\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.full-map {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tmin-height: 600rpx;\r\n\t}\r\n</style>","import MiniProgramPage from 'E:/pbl2/tripself/pages/create/create.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapConfig","uni","locationService","guideService"],"mappings":"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"}