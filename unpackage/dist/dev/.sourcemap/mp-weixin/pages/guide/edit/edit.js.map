{"version":3,"file":"edit.js","sources":["pages/guide/edit/edit.vue","D:/studytools/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZ3VpZGUvZWRpdC9lZGl0LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"edit-container\">\n\t\t\t<!-- È°∂ÈÉ®ÂØºËà™Ê†è -->\n\t\t<view class=\"detail-header\">\n\t\t\t<!-- Á¨¨‰∏ÄË°åÔºöËøîÂõûÊåâÈíÆÂíåÊ†áÈ¢ò -->\n\t\t\t<view class=\"header-top-row\">\n\t\t\t\t<view class=\"header-back\" @click=\"goBack\">\n\t\t\t\t\t<text class=\"back-icon\">‚Üê</text>\n\t\t\t\t\t<text class=\"back-text\">ËøîÂõû</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"header-title\">{{templateData ? templateData.title : 'ÁºñËæëÊîªÁï•'}}</view>\n\t\t\t\t<view style=\"width: 120rpx;\"></view> <!-- Âç†‰ΩçÔºå‰øùÊåÅÂπ≥Ë°° -->\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Á¨¨‰∫åË°åÔºöÊåâÈíÆ -->\n\t\t\t\t<view class=\"header-actions\">\n\t\t\t\t<button class=\"action-btn map-btn\" @click=\"showMap\">\n\t\t\t\t\t<text class=\"action-icon\">üó∫Ô∏è</text>\n\t\t\t\t\t<text class=\"action-text\">Âú∞Âõæ</text>\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t<scroll-view class=\"detail-content\" scroll-y v-if=\"templateData\">\n\t\t\t<!-- ÊóÖË°åÊîªÁï•Âç°Áâá -->\n\t\t\t<view class=\"travel-guide-card\">\n\t\t\t\t<!-- ËÉåÊôØÂõæÂå∫Âüü -->\n\t\t\t\t<view class=\"banner-section\">\n\t\t\t\t\t<image :src=\"templateData.image\" mode=\"aspectFill\" class=\"banner-image\" @click=\"changeBannerImage\" />\n\t\t\t\t\t<view class=\"banner-overlay\"></view>\n\t\t\t\t\t<view class=\"banner-content\">\n\t\t\t\t\t\t<view class=\"title-wrapper\">\n\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\tclass=\"guide-title editable\" \n\t\t\t\t\t\t\t\t:class=\"{ editing: editingTitle }\"\n\t\t\t\t\t\t\t\t@tap=\"startEditTitle\"\n\t\t\t\t\t\t\t\tv-if=\"!editingTitle\"\n\t\t\t\t\t\t\t>{{templateData.title}}</text>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\tclass=\"title-input\"\n\t\t\t\t\t\t\t\tv-model=\"templateData.title\"\n\t\t\t\t\t\t\t\t@blur=\"saveTitle\"\n\t\t\t\t\t\t\t\t@confirm=\"saveTitle\"\n\t\t\t\t\t\t\t\t:focus=\"editingTitle\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"subtitle-wrapper\">\n\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\tclass=\"guide-subtitle editable\" \n\t\t\t\t\t\t\t\t:class=\"{ editing: editingSubtitle }\"\n\t\t\t\t\t\t\t\t@tap=\"startEditSubtitle\"\n\t\t\t\t\t\t\t\tv-if=\"!editingSubtitle\"\n\t\t\t\t\t\t\t>{{templateData.subtitle}}</text>\n\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\tclass=\"subtitle-input\"\n\t\t\t\t\t\t\t\tv-model=\"templateData.subtitle\"\n\t\t\t\t\t\t\t\t@blur=\"saveSubtitle\"\n\t\t\t\t\t\t\t\t@confirm=\"saveSubtitle\"\n\t\t\t\t\t\t\t\t:focus=\"editingSubtitle\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- ÊäòÂè†ÂºèËèúÂçïÂå∫Âüü -->\n\t\t\t\t<view class=\"content-section\">\n\t\t\t\t\t<!-- Êñ∞Â¢ûÂ§©Êï∞ÊåâÈíÆ -->\n\t\t\t\t\t<view class=\"add-day-wrapper\">\n\t\t\t\t\t\t<button class=\"add-day-btn\" @click=\"addNewDay\">\n\t\t\t\t\t\t\t<text class=\"add-icon\">+</text>\n\t\t\t\t\t\t\t<text class=\"add-text\">Êñ∞Â¢ûÂ§©Êï∞</text>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\n\t\t\t\t\t<view \n\t\t\t\t\t\tclass=\"day-section\" \n\t\t\t\t\t\tv-for=\"(day, dayIndex) in templateData.days\" \n\t\t\t\t\t\t:key=\"dayIndex\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view class=\"day-header\" @tap=\"toggleDay(dayIndex)\">\n\t\t\t\t\t\t\t<view class=\"day-title-wrapper\">\n\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\tclass=\"day-number\" \n\t\t\t\t\t\t\t\t\t:class=\"{ 'delete-highlight': deletingDayIndex === dayIndex }\"\n\t\t\t\t\t\t\t\t\t@tap.stop=\"showDeleteDayConfirm(dayIndex)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{day.day || (dayIndex + 1)}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"day-title-input-wrapper\">\n\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\tclass=\"day-title editable\" \n\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingDayTitle === dayIndex }\"\n\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditDayTitle(dayIndex)\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"editingDayTitle !== dayIndex\"\n\t\t\t\t\t\t\t\t\t>{{day.title || `Á¨¨${dayIndex + 1}Â§©ÔºöË°åÁ®ã`}}</text>\n\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\tclass=\"day-title-input\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"day.title\"\n\t\t\t\t\t\t\t\t\t\t@blur=\"saveDayTitle(dayIndex)\"\n\t\t\t\t\t\t\t\t\t\t@confirm=\"saveDayTitle(dayIndex)\"\n\t\t\t\t\t\t\t\t\t\t:focus=\"editingDayTitle === dayIndex\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\tclass=\"day-toggle-icon\" \n\t\t\t\t\t\t\t\t:class=\"{ rotated: day.expanded }\"\n\t\t\t\t\t\t\t>‚ñº</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t\t<view class=\"day-content\" v-show=\"day.expanded\">\n\t\t\t\t\t\t\t<!-- Êñ∞Â¢ûÂú∞ÁÇπÊåâÈíÆ -->\n\t\t\t\t\t\t\t<view class=\"add-location-wrapper\">\n\t\t\t\t\t\t\t\t<button class=\"add-location-btn\" @click=\"addNewLocation(dayIndex)\">\n\t\t\t\t\t\t\t\t\t<text class=\"add-icon-small\">+</text>\n\t\t\t\t\t\t\t\t\t<text class=\"add-text-small\">Êñ∞Â¢ûÂú∞ÁÇπ</text>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"locations-list\">\n\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\tclass=\"location-card\" \n\t\t\t\t\t\t\t\t\tv-for=\"(location, locIndex) in day.locations\" \n\t\t\t\t\t\t\t\t\t:key=\"locIndex\"\n\t\t\t\t\t\t\t\t\t:class=\"{ 'delete-highlight': deletingLocationId === `${dayIndex}-${locIndex}` }\"\n\t\t\t\t\t\t\t\t\t@tap=\"toggleLocationDetails(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t@longpress=\"showDeleteLocationConfirm(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<view class=\"location-header\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"location-info\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"location-name-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-name editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationName === `${dayIndex}-${locIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationName(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationName !== `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{location.name || 'Êñ∞Âú∞ÁÇπ'}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-name-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.name\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationName(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationName(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationName === `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"location-desc-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-desc editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationDesc === `${dayIndex}-${locIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationDesc(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationDesc !== `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{location.desc || location.description || 'ËØ∑ËæìÂÖ•Âú∞ÁÇπÊèèËø∞'}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-desc-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.desc\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationDesc(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationDesc(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationDesc === `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"location-actions\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"time-badge\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"time-icon\">‚è∞</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"time-input-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"time-text editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationTime === `${dayIndex}-${locIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationTime(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationTime !== `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{{location.time || '1-2Â∞èÊó∂'}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"time-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.time\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationTime(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveLocationTime(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationTime === `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<button \n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"location-btn\" \n\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"showLocationOnMap(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"location-icon\">üìç</text>\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t\t\t\t\t\t\t<!-- Âú∞ÁÇπËØ¶ÊÉÖ -->\n\t\t\t\t\t\t\t\t\t<view class=\"location-details\" v-show=\"location.showDetails\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"transport-section\">\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-title-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"transport-title\">‰∫§ÈÄöÊñπÂºè</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-grid\">\n\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-item\" v-for=\"(transport, transIndex) in location.transport\" :key=\"transIndex\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<text class=\"transport-icon\">{{transport.type}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-info\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-type-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportType === `${dayIndex}-${locIndex}-${transIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportType(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportType !== `${dayIndex}-${locIndex}-${transIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{transport.type === 'üöá' ? 'Âú∞ÈìÅ' : transport.type === 'üöï' ? 'Âá∫ÁßüËΩ¶' : transport.type === 'üöå' ? 'ÂÖ¨‰∫§' : 'ÂÖ∂‰ªñ'}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-type-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"transport.type\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportType(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportType(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportType === `${dayIndex}-${locIndex}-${transIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<view class=\"transport-detail-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTransportRoute === `${dayIndex}-${locIndex}-${transIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditTransportRoute(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingTransportRoute !== `${dayIndex}-${locIndex}-${transIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>{{transport.route}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"transport-detail-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"transport.route\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveTransportRoute(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@confirm=\"saveTransportRoute(dayIndex, locIndex, transIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingTransportRoute === `${dayIndex}-${locIndex}-${transIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"details-content\" v-if=\"location.details\">\n\t\t\t\t\t\t\t\t\t\t\t<text class=\"details-title\">ÊôØÁÇπËØ¶ÊÉÖ</text>\n\t\t\t\t\t\t\t\t\t\t\t<view class=\"details-text-wrapper\">\n\t\t\t\t\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"details-text editable\" \n\t\t\t\t\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingLocationDetails === `${dayIndex}-${locIndex}` }\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@tap.stop=\"startEditLocationDetails(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-if=\"editingLocationDetails !== `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t>{{location.details}}</text>\n\t\t\t\t\t\t\t\t\t\t\t\t<textarea \n\t\t\t\t\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"details-text-input\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-model=\"location.details\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t@blur=\"saveLocationDetails(dayIndex, locIndex)\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:focus=\"editingLocationDetails === `${dayIndex}-${locIndex}`\"\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t<!-- ÊîªÁï•ÊÄªÁªì -->\n\t\t\t\t<view class=\"tips-section\" v-if=\"templateData.tips && templateData.tips.length > 0\">\n\t\t\t\t\t\t<text class=\"tips-title\">ÊóÖË°åÂ∞èË¥¥Â£´</text>\n\t\t\t\t\t\t<view class=\"tips-list\">\n\t\t\t\t\t\t<view class=\"tip-item\" v-for=\"(tip, tipIndex) in templateData.tips\" :key=\"tipIndex\">\n\t\t\t\t\t\t\t<text class=\"tip-icon\">{{tipIndex === 0 ? '‚ÑπÔ∏è' : tipIndex === 1 ? 'üìç' : tipIndex === 2 ? '‚òÄÔ∏è' : 'üçΩÔ∏è'}}</text>\n\t\t\t\t\t\t\t<view class=\"tip-text-wrapper\">\n\t\t\t\t\t\t\t\t<text \n\t\t\t\t\t\t\t\t\tclass=\"tip-text editable\" \n\t\t\t\t\t\t\t\t\t:class=\"{ editing: editingTipIndex === tipIndex }\"\n\t\t\t\t\t\t\t\t\t@tap=\"startEditTip(tipIndex)\"\n\t\t\t\t\t\t\t\t\tv-if=\"editingTipIndex !== tipIndex\"\n\t\t\t\t\t\t\t\t>{{tip}}</text>\n\t\t\t\t\t\t\t\t<input \n\t\t\t\t\t\t\t\t\tv-else\n\t\t\t\t\t\t\t\t\tclass=\"tip-text-input\"\n\t\t\t\t\t\t\t\t\tv-model=\"templateData.tips[tipIndex]\"\n\t\t\t\t\t\t\t\t\t@blur=\"saveTip(tipIndex)\"\n\t\t\t\t\t\t\t\t\t@confirm=\"saveTip(tipIndex)\"\n\t\t\t\t\t\t\t\t\t:focus=\"editingTipIndex === tipIndex\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t</scroll-view>\n\n\t\t<!-- Âä†ËΩΩÁä∂ÊÄÅ -->\n\t\t<view class=\"loading-container\" v-else>\n\t\t\t<view class=\"loading-content\">\n\t\t\t\t<text class=\"loading-text\">Âä†ËΩΩ‰∏≠...</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t<!-- Âà†Èô§Á°ÆËÆ§ÂØπËØùÊ°Ü -->\n\t\t<view class=\"delete-overlay\" v-if=\"showDeleteConfirm\" @tap=\"cancelDelete\"></view>\n\t\t<view class=\"delete-confirm\" v-if=\"showDeleteConfirm\">\n\t\t\t<text class=\"delete-title\">Á°ÆËÆ§Âà†Èô§</text>\n\t\t\t<text class=\"delete-message\">{{ deleteMessage }}</text>\n\t\t\t<view class=\"delete-actions\">\n\t\t\t\t<button class=\"cancel-delete-btn\" @tap=\"cancelDelete\">ÂèñÊ∂à</button>\n\t\t\t\t<button class=\"confirm-delete-btn\" @tap=\"confirmDelete\">Á°ÆËÆ§Âà†Èô§</button>\n\t\t\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- Âú∞ÂõæÂºπÁ™ó -->\n\t\t<view class=\"map-modal\" v-if=\"showMapModal\">\n\t\t\t<view class=\"modal-overlay\" @click=\"closeMap\"></view>\n\t\t\t<view class=\"modal-content\">\n\t\t\t\t<view class=\"modal-header\">\n\t\t\t\t\t<text class=\"modal-title\">{{templateData ? templateData.title + 'Âú∞Âõæ' : 'ÊôØÁÇπÂú∞Âõæ'}}</text>\n\t\t\t\t\t<view class=\"modal-close\" @click=\"closeMap\">\n\t\t\t\t\t\t<text>√ó</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"map-container\">\n\t\t\t\t\t<map \n\t\t\t\t\t\t:longitude=\"mapMarkers.length > 0 ? mapMarkers[0].longitude : 116.3974\" \n\t\t\t\t\t\t:latitude=\"mapMarkers.length > 0 ? mapMarkers[0].latitude : 39.9093\" \n\t\t\t\t\t\tscale=\"12\"\n\t\t\t\t\t\t:markers=\"mapMarkers\"\n\t\t\t\t\t\t:polyline=\"mapPolyline\"\n\t\t\t\t\t\tclass=\"detail-map\"\n\t\t\t\t\t></map>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ÂÖ®Â±èÂú∞ÂõæËßÜÂõæ -->\n\t\t<view class=\"full-map-container\" v-if=\"showFullMap\" @tap=\"closeFullMap\">\n\t\t\t<view class=\"map-header\" @tap.stop>\n\t\t\t\t<button class=\"map-close-btn\" @tap=\"closeFullMap\">\n\t\t\t\t\t<text class=\"close-icon\">√ó</text>\n\t\t\t\t</button>\n\t\t\t\t<text class=\"map-title\">{{ currentLocationName || 'Âú∞ÁÇπÂÆö‰Ωç' }}</text>\n\t\t\t\t\t</view>\n\t\t\t<view class=\"map-content\" @tap.stop>\n\t\t\t\t<map \n\t\t\t\t\tv-if=\"showFullMap\"\n\t\t\t\t\t:key=\"`map-${mapKey}`\"\n\t\t\t\t\tid=\"fullMap\"\n\t\t\t\t\t:longitude=\"staticMapLongitude\"\n\t\t\t\t\t:latitude=\"staticMapLatitude\"\n\t\t\t\t\t:scale=\"staticMapScale\"\n\t\t\t\t\t:markers=\"markersLocked ? fullMapMarkers : []\"\n\t\t\t\t\t:show-location=\"false\"\n\t\t\t\t\t:enable-zoom=\"true\"\n\t\t\t\t\t:enable-scroll=\"true\"\n\t\t\t\t\t:enable-rotate=\"false\"\n\t\t\t\t\t:enable-overlooking=\"false\"\n\t\t\t\t\t:enable-poi=\"true\"\n\t\t\t\t\t:enable-building=\"true\"\n\t\t\t\t\tclass=\"full-map\"\n\t\t\t\t\t@markertap=\"onMapMarkerTap\"\n\t\t\t\t\t@regionchange=\"onMapRegionChange\"\n\t\t\t\t\t@tap=\"onMapTap\"\n\t\t\t\t\t@updated=\"onMapUpdated\"\n\t\t\t\t></map>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport locationService from '@/services/location.service.js'\n\timport { mapConfig } from '@/config/map.config.js'\n\t\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttemplateData: null,\n\t\t\t\tshowMapModal: false,\n\t\t\t\tmapMarkers: [],\n\t\t\t\tmapPolyline: [],\n\t\t\t\t\n\t\t\t\t// ÁºñËæëÁä∂ÊÄÅ\n\t\t\t\teditingTitle: false,\n\t\t\t\teditingSubtitle: false,\n\t\t\t\teditingDayTitle: null,\n\t\t\t\teditingLocationName: null,\n\t\t\t\teditingLocationDesc: null,\n\t\t\t\teditingLocationTime: null,\n\t\t\t\teditingTransportType: null,\n\t\t\t\teditingTransportRoute: null,\n\t\t\t\teditingLocationDetails: null,\n\t\t\t\teditingTipIndex: null,\n\t\t\t\t\n\t\t\t\t// Âà†Èô§Á°ÆËÆ§\n\t\t\t\tshowDeleteConfirm: false,\n\t\t\t\tdeleteMessage: '',\n\t\t\t\tdeleteType: null, // 'day' or 'location'\n\t\t\t\tdeleteDayIndex: null,\n\t\t\t\tdeleteLocationDayIndex: null,\n\t\t\t\tdeleteLocationIndex: null,\n\t\t\t\tdeletingDayIndex: null,\n\t\t\t\tdeletingLocationId: null,\n\t\t\t\t\n\t\t\t\t// ÂÖ®Â±èÂú∞Âõæ\n\t\t\t\tshowFullMap: false,\n\t\t\t\tcurrentLocationName: '',\n\t\t\t\tstaticMapLongitude: mapConfig.defaultCenter.longitude,\n\t\t\t\tstaticMapLatitude: mapConfig.defaultCenter.latitude,\n\t\t\t\tstaticMapScale: 16,\n\t\t\t\tfullMapMarkers: [],\n\t\t\t\tmapKey: 0,\n\t\t\t\tmarkersLocked: false,\n\t\t\t\tisMapUpdating: false,\n\t\t\t\tmapInitialized: false\n\t\t\t}\n\t\t},\n\t\tonLoad(options) {\n\t\t\t// ‰ªéURLÂèÇÊï∞‰∏≠Ëé∑ÂèñÊ®°ÊùøÊï∞ÊçÆ\n\t\t\tif (options.templateData) {\n\t\t\t\ttry {\n\t\t\t\t\tconst decodedData = decodeURIComponent(options.templateData)\n\t\t\t\t\tthis.templateData = JSON.parse(decodedData)\n\t\t\t\t\tthis.initTemplateData()\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('Ëß£ÊûêÊ®°ÊùøÊï∞ÊçÆÂ§±Ë¥•:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Âä†ËΩΩÊ®°ÊùøÂ§±Ë¥•',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tinitTemplateData() {\n\t\t\t\tif (!this.templateData) return\n\t\t\t\t\n\t\t\t\tif (this.templateData.days) {\n\t\t\t\t\tthis.templateData.days.forEach((day, index) => {\n\t\t\t\t\t\t// ÂàùÂßãÂåñÂ±ïÂºÄÁä∂ÊÄÅÔºå‰ΩøÁî® day.expanded Â±ûÊÄß\n\t\t\t\t\t\tif (typeof day.expanded === 'undefined') {\n\t\t\t\t\t\t\tthis.$set(day, 'expanded', index === 0) // ÈªòËÆ§Â±ïÂºÄÁ¨¨‰∏ÄÂ§©\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (day.locations) {\n\t\t\t\t\t\t\tday.locations.forEach((location, locIndex) => {\n\t\t\t\t\t\t\t\t// ÂàùÂßãÂåñÂú∞ÁÇπËØ¶ÊÉÖÂ±ïÂºÄÁä∂ÊÄÅÔºå‰ΩøÁî® location.showDetails Â±ûÊÄß\n\t\t\t\t\t\t\t\tif (typeof location.showDetails === 'undefined') {\n\t\t\t\t\t\t\t\t\tthis.$set(location, 'showDetails', false)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// Áªü‰∏ÄÂ≠óÊÆµÔºöÂ¶ÇÊûúÊúâ description ‰ΩÜÊ≤°Êúâ descÔºåÂ∞Ü description ËµãÂÄºÁªô desc\n\t\t\t\t\t\t\t\tif (location.description && !location.desc) {\n\t\t\t\t\t\t\t\t\tthis.$set(location, 'desc', location.description)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// ‰∏∫ÊØè‰∏™Âú∞ÁÇπÊ∑ªÂä†ÂùêÊ†áÂ±ûÊÄßÔºàÂ¶ÇÊûúËøòÊ≤°ÊúâÔºâ\n\t\t\t\t\t\t\t\tif (!location.coordinates && this.templateData.mapMarkers) {\n\t\t\t\t\t\t\t\t\tconst marker = this.templateData.mapMarkers.find(m => m.title === location.name)\n\t\t\t\t\t\t\t\t\tif (marker) {\n\t\t\t\t\t\t\t\t\t\tlocation.coordinates = {\n\t\t\t\t\t\t\t\t\t\t\tlat: marker.latitude,\n\t\t\t\t\t\t\t\t\t\t\tlng: marker.longitude\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ËÆæÁΩÆÂú∞ÂõæÊ†áËÆ∞ÂíåËøûÁ∫ø\n\t\t\t\tif (this.templateData.mapMarkers) {\n\t\t\t\t\tthis.mapMarkers = this.templateData.mapMarkers.map((marker, index) => ({\n\t\t\t\t\t\tid: index + 1,\n\t\t\t\t\t\tlongitude: marker.longitude,\n\t\t\t\t\t\tlatitude: marker.latitude,\n\t\t\t\t\t\ttitle: marker.title,\n\t\t\t\t\t\ticonPath: '/static/images/map/marker.png',\n\t\t\t\t\t\twidth: 30,\n\t\t\t\t\t\theight: 30\n\t\t\t\t\t}))\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ËÆæÁΩÆÂú∞ÂõæËøûÁ∫ø\n\t\t\t\tif (this.templateData.mapPolyline) {\n\t\t\t\t\tthis.mapPolyline = this.templateData.mapPolyline\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ÁºñËæëÂäüËÉΩ\n\t\t\tstartEditTitle() {\n\t\t\t\tthis.editingTitle = true\n\t\t\t},\n\t\t\tsaveTitle() {\n\t\t\t\tthis.editingTitle = false\n\t\t\t},\n\t\t\tstartEditSubtitle() {\n\t\t\t\tthis.editingSubtitle = true\n\t\t\t},\n\t\t\tsaveSubtitle() {\n\t\t\t\tthis.editingSubtitle = false\n\t\t\t},\n\t\t\tstartEditDayTitle(dayIndex) {\n\t\t\t\tthis.editingDayTitle = dayIndex\n\t\t\t},\n\t\t\tsaveDayTitle(dayIndex) {\n\t\t\t\tthis.editingDayTitle = null\n\t\t\t},\n\t\t\tstartEditLocationName(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationName = `${dayIndex}-${locIndex}`\n\t\t\t},\n\t\t\tsaveLocationName(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationName = null\n\t\t\t},\n\t\t\tstartEditLocationDesc(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationDesc = `${dayIndex}-${locIndex}`\n\t\t\t},\n\t\t\tsaveLocationDesc(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationDesc = null\n\t\t\t},\n\t\t\tstartEditLocationTime(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationTime = `${dayIndex}-${locIndex}`\n\t\t\t},\n\t\t\tsaveLocationTime(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationTime = null\n\t\t\t},\n\t\t\tstartEditTransportType(dayIndex, locIndex, transIndex) {\n\t\t\t\tthis.editingTransportType = `${dayIndex}-${locIndex}-${transIndex}`\n\t\t\t},\n\t\t\tsaveTransportType(dayIndex, locIndex, transIndex) {\n\t\t\t\tthis.editingTransportType = null\n\t\t\t},\n\t\t\tstartEditTransportRoute(dayIndex, locIndex, transIndex) {\n\t\t\t\tthis.editingTransportRoute = `${dayIndex}-${locIndex}-${transIndex}`\n\t\t\t},\n\t\t\tsaveTransportRoute(dayIndex, locIndex, transIndex) {\n\t\t\t\tthis.editingTransportRoute = null\n\t\t\t},\n\t\t\tstartEditLocationDetails(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationDetails = `${dayIndex}-${locIndex}`\n\t\t\t},\n\t\t\tsaveLocationDetails(dayIndex, locIndex) {\n\t\t\t\tthis.editingLocationDetails = null\n\t\t\t},\n\t\t\tstartEditTip(tipIndex) {\n\t\t\t\tthis.editingTipIndex = tipIndex\n\t\t\t},\n\t\t\tsaveTip(tipIndex) {\n\t\t\t\tthis.editingTipIndex = null\n\t\t\t},\n\t\t\t\n\t\t\t// Â§©Êï∞ÁÆ°ÁêÜ\n\t\t\ttoggleDay(dayIndex) {\n\t\t\t\tif (this.templateData.days[dayIndex]) {\n\t\t\t\t\tthis.$set(this.templateData.days[dayIndex], 'expanded', !this.templateData.days[dayIndex].expanded)\n\t\t\t\t}\n\t\t\t},\n\t\t\taddNewDay() {\n\t\t\t\tif (!this.templateData.days) {\n\t\t\t\t\tthis.templateData.days = []\n\t\t\t\t}\n\t\t\t\tconst newDay = {\n\t\t\t\t\tday: this.templateData.days.length + 1,\n\t\t\t\t\ttitle: `Á¨¨${this.templateData.days.length + 1}Â§©ÔºöË°åÁ®ã`,\n\t\t\t\t\texpanded: true,\n\t\t\t\t\tlocations: []\n\t\t\t\t}\n\t\t\t\tthis.templateData.days.push(newDay)\n\t\t\t},\n\t\t\tshowDeleteDayConfirm(dayIndex) {\n\t\t\t\tthis.deleteType = 'day'\n\t\t\t\tthis.deleteDayIndex = dayIndex\n\t\t\t\tthis.deletingDayIndex = dayIndex\n\t\t\t\tthis.deleteMessage = 'ÊÇ®Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏ÄÂ§©ÁöÑÊâÄÊúâË°åÁ®ãÂêóÔºü'\n\t\t\t\tthis.showDeleteConfirm = true\n\t\t\t},\n\t\t\t\n\t\t\t// Âú∞ÁÇπÁÆ°ÁêÜ\n\t\t\ttoggleLocationDetails(dayIndex, locIndex) {\n\t\t\t\tconst location = this.templateData.days[dayIndex].locations[locIndex]\n\t\t\t\tif (location) {\n\t\t\t\t\tthis.$set(location, 'showDetails', !location.showDetails)\n\t\t\t\t}\n\t\t\t},\n\t\t\taddNewLocation(dayIndex) {\n\t\t\t\tif (!this.templateData.days[dayIndex].locations) {\n\t\t\t\t\tthis.templateData.days[dayIndex].locations = []\n\t\t\t\t}\n\t\t\t\tconst newLocation = {\n\t\t\t\t\tname: 'Êñ∞Âú∞ÁÇπ',\n\t\t\t\t\tdesc: 'ËØ∑ËæìÂÖ•Âú∞ÁÇπÊèèËø∞',\n\t\t\t\t\ttime: '1-2Â∞èÊó∂',\n\t\t\t\t\tshowDetails: false,\n\t\t\t\t\ttransport: [\n\t\t\t\t\t\t{ type: 'üöá', route: 'ËØ∑ËæìÂÖ•Âú∞ÈìÅÁ∫øË∑Ø' },\n\t\t\t\t\t\t{ type: 'üöï', route: 'ËØ∑ËæìÂÖ•Âá∫ÁßüËΩ¶‰ø°ÊÅØ' }\n\t\t\t\t\t],\n\t\t\t\t\tdetails: '',\n\t\t\t\t\tcoordinates: null\n\t\t\t\t}\n\t\t\t\tthis.templateData.days[dayIndex].locations.push(newLocation)\n\t\t\t},\n\t\t\tshowDeleteLocationConfirm(dayIndex, locIndex) {\n\t\t\t\tthis.deleteType = 'location'\n\t\t\t\tthis.deleteLocationDayIndex = dayIndex\n\t\t\t\tthis.deleteLocationIndex = locIndex\n\t\t\t\tthis.deletingLocationId = `${dayIndex}-${locIndex}`\n\t\t\t\tthis.deleteMessage = 'ÊÇ®Á°ÆÂÆöË¶ÅÂà†Èô§Ëøô‰∏™Âú∞ÁÇπÂêóÔºü'\n\t\t\t\tthis.showDeleteConfirm = true\n\t\t\t},\n\t\t\t\n\t\t\t// Âà†Èô§Á°ÆËÆ§\n\t\t\tconfirmDelete() {\n\t\t\t\tif (this.deleteType === 'day') {\n\t\t\t\t\tthis.templateData.days.splice(this.deleteDayIndex, 1)\n\t\t\t\t\t// ÈáçÊñ∞ÁºñÂè∑Â§©Êï∞\n\t\t\t\t\tthis.templateData.days.forEach((day, index) => {\n\t\t\t\t\t\tday.day = index + 1\n\t\t\t\t\t\tday.title = day.title.replace(/Á¨¨\\d+Â§©/, `Á¨¨${index + 1}Â§©`)\n\t\t\t\t\t})\n\t\t\t\t\t// ÈáçÊñ∞ÂàùÂßãÂåñÂ±ïÂºÄÁä∂ÊÄÅ\n\t\t\t\t\tthis.initTemplateData()\n\t\t\t\t} else if (this.deleteType === 'location') {\n\t\t\t\t\tthis.templateData.days[this.deleteLocationDayIndex].locations.splice(this.deleteLocationIndex, 1)\n\t\t\t\t}\n\t\t\t\tthis.cancelDelete()\n\t\t\t\t\t// Êõ¥Êñ∞Âú∞ÂõæÊ†áËÆ∞\n\t\t\t\tthis.updateMapMarkers()\n\t\t\t},\n\t\t\tcancelDelete() {\n\t\t\t\tthis.showDeleteConfirm = false\n\t\t\t\tthis.deleteType = null\n\t\t\t\tthis.deleteDayIndex = null\n\t\t\t\tthis.deleteLocationDayIndex = null\n\t\t\t\tthis.deleteLocationIndex = null\n\t\t\t\tthis.deletingDayIndex = null\n\t\t\t\tthis.deletingLocationId = null\n\t\t\t},\n\t\t\t\n\t\t\t// Âú∞ÂõæÂäüËÉΩ\n\t\t\tshowMap() {\n\t\t\t\tthis.updateMapMarkers()\n\t\t\t\tthis.showMapModal = true\n\t\t\t},\n\t\t\tcloseMap() {\n\t\t\t\tthis.showMapModal = false\n\t\t\t},\n\t\t\tupdateMapMarkers() {\n\t\t\t\tthis.mapMarkers = []\n\t\t\t\tthis.mapPolyline = []\n\t\t\t\t\n\t\t\t\tif (this.templateData && this.templateData.days) {\n\t\t\t\t\tconst allPoints = []\n\t\t\t\t\tlet markerId = 0\n\t\t\t\t\t\n\t\t\t\t\tthis.templateData.days.forEach((day, dayIndex) => {\n\t\t\t\t\t\tif (day.locations) {\n\t\t\t\t\t\t\tday.locations.forEach((location, locIndex) => {\n\t\t\t\t\t\t\t\tif (location.coordinates && location.coordinates.lng && location.coordinates.lat) {\n\t\t\t\t\t\t\t\t\tconst marker = {\n\t\t\t\t\t\t\t\t\t\tid: markerId++,\n\t\t\t\t\t\t\t\t\t\tlongitude: location.coordinates.lng,\n\t\t\t\t\t\t\t\t\t\tlatitude: location.coordinates.lat,\n\t\t\t\t\t\t\t\t\t\ttitle: location.name,\n\t\t\t\t\t\t\t\t\t\ticonPath: '/static/images/map/marker.png',\n\t\t\t\t\t\t\t\t\t\twidth: 30,\n\t\t\t\t\t\t\t\t\t\theight: 30\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tthis.mapMarkers.push(marker)\n\t\t\t\t\t\t\t\t\tallPoints.push({\n\t\t\t\t\t\t\t\t\t\tlongitude: location.coordinates.lng,\n\t\t\t\t\t\t\t\t\t\tlatitude: location.coordinates.lat\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tif (allPoints.length > 1) {\n\t\t\t\t\t\tthis.mapPolyline = [{\n\t\t\t\t\t\t\tpoints: allPoints,\n\t\t\t\t\t\t\tcolor: '#165DFF',\n\t\t\t\t\t\t\twidth: 6,\n\t\t\t\t\t\t\tdottedLine: false\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Âú∞ÁÇπÂÆö‰Ωç\n\t\t\tasync showLocationOnMap(dayIndex, locIndex) {\n\t\t\t\tconst location = this.templateData.days[dayIndex].locations[locIndex]\n\t\t\t\t\n\t\t\t\tif (!location || !location.name || !location.name.trim()) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Âú∞ÁÇπÂêçÁß∞‰∏çËÉΩ‰∏∫Á©∫',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÂùêÊ†áÔºåÂ∞ùËØïËé∑Âèñ\n\t\t\t\tif (!location.coordinates) {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: 'Ê≠£Âú®ÂÆö‰Ωç...'\n\t\t\t\t\t})\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst coords = await locationService.getCoordinatesByName(location.name.trim())\n\t\t\t\t\t\tif (coords && coords.latitude && coords.longitude) {\n\t\t\t\t\t\t\tlocation.coordinates = {\n\t\t\t\t\t\t\t\tlat: coords.latitude,\n\t\t\t\t\t\t\t\tlng: coords.longitude\n\t\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('Ëé∑ÂèñÂùêÊ†áÂ§±Ë¥•')\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('Ëé∑ÂèñÂùêÊ†áÂ§±Ë¥•:', error)\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'Êó†Ê≥ïËé∑ÂèñÂú∞ÁÇπÂùêÊ†áÔºåËØ∑Ê£ÄÊü•Âú∞ÁÇπÂêçÁß∞',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// È™åËØÅÂùêÊ†áÊòØÂê¶ÊúâÊïà\n\t\t\t\tif (!location.coordinates || !location.coordinates.lng || !location.coordinates.lat) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Âú∞ÁÇπÂùêÊ†áÊó†ÊïàÔºåÊó†Ê≥ïÊòæÁ§∫Âú∞Âõæ',\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ÊòæÁ§∫ÂÖ®Â±èÂú∞Âõæ\n\t\t\t\tthis.currentLocationName = location.name\n\t\t\t\tthis.staticMapLongitude = Number(Number(location.coordinates.lng).toFixed(6))\n\t\t\t\tthis.staticMapLatitude = Number(Number(location.coordinates.lat).toFixed(6))\n\t\t\t\tthis.staticMapScale = 16\n\t\t\t\tthis.mapInitialized = false\n\t\t\t\tthis.markersLocked = false\n\t\t\t\tthis.isMapUpdating = true\n\t\t\t\tthis.mapKey++\n\t\t\t\tthis.showFullMap = true\n\t\t\t\t\n\t\t\t\t// ÂáÜÂ§áÊ†áËÆ∞\n\t\t\t\tconst markerToAdd = {\n\t\t\t\t\tid: 0,\n\t\t\t\t\tlongitude: this.staticMapLongitude,\n\t\t\t\t\tlatitude: this.staticMapLatitude,\n\t\t\t\t\ttitle: location.name,\n\t\t\t\t\ticonPath: '/static/images/map/marker.png',\n\t\t\t\t\twidth: 30,\n\t\t\t\t\theight: 30,\n\t\t\t\t\tcallout: {\n\t\t\t\t\t\tcontent: location.name,\n\t\t\t\t\t\tcolor: '#ffffff',\n\t\t\t\t\t\tfontSize: 14,\n\t\t\t\t\t\tborderRadius: 4,\n\t\t\t\t\t\tbgColor: '#165DFF',\n\t\t\t\t\t\tpadding: 8,\n\t\t\t\t\t\tdisplay: 'ALWAYS',\n\t\t\t\t\t\ttextAlign: 'center'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Á≠âÂæÖÂú∞ÂõæÁªÑ‰ª∂Ê∏≤ÊüìÂÆåÊàêÂêéÂÜçÊ∑ªÂä†Ê†áËÆ∞\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.fullMapMarkers = [markerToAdd]\n\t\t\t\t\t\tthis.mapInitialized = true\n\t\t\t\t\t\tthis.markersLocked = true\n\t\t\t\t\t\t\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tthis.isMapUpdating = false\n\t\t\t\t\t\t}, 1000)\n\t\t\t\t\t}, 300)\n\t\t\t\t})\n\t\t\t},\n\t\t\tcloseFullMap() {\n\t\t\t\tthis.showFullMap = false\n\t\t\t\tthis.isMapUpdating = false\n\t\t\t\tthis.mapInitialized = false\n\t\t\t\tthis.markersLocked = false\n\t\t\t\tthis.fullMapMarkers = []\n\t\t\t},\n\t\t\tonMapMarkerTap(e) {\n\t\t\t\tconst markerId = e.detail.markerId\n\t\t\t\tconst marker = this.fullMapMarkers.find(m => m.id === markerId)\n\t\t\t\tif (marker) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: marker.title,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tonMapTap(e) {\n\t\t\t\t// Âú∞ÂõæÁÇπÂáª‰∫ã‰ª∂\n\t\t\t},\n\t\t\tonMapUpdated() {\n\t\t\t\t// Âú∞ÂõæÊõ¥Êñ∞ÂÆåÊàê‰∫ã‰ª∂\n\t\t\t},\n\t\t\tonMapRegionChange(e) {\n\t\t\t\tif (this.isMapUpdating) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tif (this.markersLocked) {\n\t\t\t\t\tconst causedBy = e.causedBy || ''\n\t\t\t\t\tconst type = e.type || ''\n\t\t\t\t\tif (type === 'end' && (causedBy === 'drag' || causedBy === 'scale' || causedBy === 'gesture')) {\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\tif (type === 'begin' || type === 'update') {\n\t\t\t\t\t\tif (causedBy !== 'drag' && causedBy !== 'scale' && causedBy !== 'gesture') {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// Êõ¥Êç¢ËÉåÊôØÂõæ\n\t\t\tchangeBannerImage() {\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\tsizeType: ['compressed'],\n\t\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tthis.templateData.image = res.tempFilePaths[0]\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ËøîÂõû\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack()\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.edit-container {\n\t\tmin-height: 100vh;\n\t\tbackground: #f8fafc;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;\n\t}\n\t\n\t.detail-header {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tpadding: 30rpx 30rpx 20rpx;\n\t\tbackground: linear-gradient(135deg, #165DFF 0%, #0E4BCC 100%);\n\t\tcolor: white;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(22, 93, 255, 0.3);\n\t\tposition: relative;\n\t\tz-index: 10;\n\t}\n\n\t.header-top-row {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.header-back {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 8rpx;\n\t\tpadding: 10rpx 15rpx;\n\t\tborder-radius: 8rpx;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tbackdrop-filter: blur(10rpx);\n\t}\n\t\n\t.back-icon {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t}\n\n\t.back-text {\n\t\tfont-size: 26rpx;\n\t}\n\t\n\t.header-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: 600;\n\t\tletter-spacing: 0.5rpx;\n\t\ttext-align: center;\n\t\tflex: 1;\n\t\tmargin: 0 40rpx;\n\t}\n\t\n\t.header-actions {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.action-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 14rpx 24rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tborder: none;\n\t\ttransition: all 0.3s ease;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n\t}\n\n\t.action-btn:active {\n\t\ttransform: translateY(1rpx);\n\t\tbox-shadow: 0 1rpx 4rpx rgba(0, 0, 0, 0.1);\n\t}\n\n\t.action-icon {\n\t\tmargin-right: 8rpx;\n\t\tfont-size: 26rpx;\n\t}\n\n\t.map-btn {\n\t\tbackground: linear-gradient(135deg, #FF7D00 0%, #E66A00 100%);\n\t\tcolor: white;\n\t}\n\t\n\t.detail-content {\n\t\theight: calc(100vh - 120rpx);\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.travel-guide-card {\n\t\tbackground: white;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 10rpx 25rpx -5rpx rgba(0, 0, 0, 0.1), 0 8rpx 10rpx -6rpx rgba(0, 0, 0, 0.1);\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.banner-section {\n\t\tposition: relative;\n\t\theight: 320rpx;\n\t}\n\n\t.banner-image {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t.banner-overlay {\n\t\tposition: absolute;\n\t\tinset: 0;\n\t\tbackground: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);\n\t}\n\n\t.banner-content {\n\t\tposition: absolute;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tpadding: 40rpx;\n\t\twidth: 100%;\n\t}\n\n\t.title-wrapper, .subtitle-wrapper {\n\t\tposition: relative;\n\t\tmargin-bottom: 10rpx;\n\t}\n\n\t.guide-title {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tcolor: white;\n\t\tdisplay: block;\n\t\tmargin-bottom: 10rpx;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n\t}\n\n\t.title-input {\n\t\twidth: 100%;\n\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\tpadding: 12rpx 16rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.guide-subtitle {\n\t\tfont-size: 28rpx;\n\t\tcolor: rgba(255, 255, 255, 0.9);\n\t\tdisplay: block;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.3);\n\t}\n\n\t.subtitle-input {\n\t\twidth: 100%;\n\t\tbackground: rgba(255, 255, 255, 0.95);\n\t\tpadding: 10rpx 14rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 28rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.content-section {\n\t\tpadding: 40rpx;\n\t}\n\n\t.add-day-wrapper {\n\t\ttext-align: center;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.add-day-btn {\n\t\tbackground-color: #165DFF;\n\t\tcolor: white;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tpadding: 14rpx 28rpx;\n\t\tborder-radius: 12rpx;\n\t\tborder: none;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tline-height: 1;\n\t}\n\n\t.add-icon {\n\t\tmargin-right: 8rpx;\n\t\tfont-size: 32rpx;\n\t}\n\n\t.add-icon-small {\n\t\tmargin-right: 4rpx;\n\t\tfont-size: 24rpx;\n\t}\n\n\t.add-text-small {\n\t\tfont-size: 24rpx;\n\t}\n\n\t.day-section {\n\t\tmargin-bottom: 40rpx;\n\t\tborder-bottom: 2rpx solid #e2e8f0;\n\t\tpadding-bottom: 40rpx;\n\t}\n\n\t.day-section:last-child {\n\t\tborder-bottom: none;\n\t\tmargin-bottom: 0;\n\t\tpadding-bottom: 0;\n\t}\n\n\t.day-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tcursor: pointer;\n\t\tpadding: 20rpx 0;\n\t}\n\n\t.day-title-wrapper {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.day-number {\n\t\twidth: 56rpx;\n\t\theight: 56rpx;\n\t\tmin-width: 56rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #165DFF;\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tmargin-right: 20rpx;\n\t}\n\n\t.day-number.delete-highlight {\n\t\tbackground-color: #f87171;\n\t}\n\n\t.day-title-input-wrapper {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tmin-width: 0;\n\t}\n\n\t.day-title {\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #165DFF;\n\t\tword-break: break-word;\n\t\tline-height: 1.4;\n\t}\n\n\t.day-title-input {\n\t\twidth: 100%;\n\t\tbackground: #f9f9f9;\n\t\tpadding: 12rpx 16rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 40rpx;\n\t\tfont-weight: bold;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.day-toggle-icon {\n\t\tfont-size: 28rpx;\n\t\tcolor: #165DFF;\n\t\ttransition: transform 0.3s;\n\t\tflex-shrink: 0;\n\t}\n\n\t.day-toggle-icon.rotated {\n\t\ttransform: rotate(180deg);\n\t}\n\n\t.day-content {\n\t\tmargin-top: 24rpx;\n\t}\n\n\t.add-location-wrapper {\n\t\ttext-align: center;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.add-location-btn {\n\t\tbackground-color: #FF7D00;\n\t\tcolor: white;\n\t\tfont-size: 22rpx;\n\t\tfont-weight: 500;\n\t\tpadding: 10rpx 20rpx;\n\t\tborder-radius: 10rpx;\n\t\tborder: none;\n\t\tdisplay: inline-flex;\n\t\talign-items: center;\n\t\tline-height: 1;\n\t}\n\n\t.locations-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 24rpx;\n\t}\n\n\t.location-card {\n\t\tbackground-color: #f9f9f9;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 24rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.location-card.delete-highlight {\n\t\tbackground-color: #fee2e2;\n\t}\n\n\t.location-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tgap: 16rpx;\n\t}\n\n\t.location-info {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.location-name-wrapper, .location-desc-wrapper {\n\t\tposition: relative;\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.location-name {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #1E293B;\n\t\tdisplay: block;\n\t\tmargin-bottom: 8rpx;\n\t\tword-break: break-word;\n\t}\n\n\t.location-name-input {\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tpadding: 10rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.location-desc {\n\t\tfont-size: 26rpx;\n\t\tcolor: #64748B;\n\t\tdisplay: block;\n\t\tline-height: 1.4;\n\t\tword-break: break-word;\n\t}\n\n\t.location-desc-input {\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tpadding: 10rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 26rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.location-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.time-badge {\n\t\tbackground-color: rgba(255, 125, 0, 0.1);\n\t\tcolor: #FF7D00;\n\t\tpadding: 6rpx 16rpx;\n\t\tborder-radius: 16rpx;\n\t\tfont-size: 22rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\twhite-space: nowrap;\n\t}\n\n\t.time-icon {\n\t\tmargin-right: 6rpx;\n\t\tfont-size: 22rpx;\n\t}\n\n\t.time-input-wrapper {\n\t\tposition: relative;\n\t}\n\n\t.time-text {\n\t\tfont-size: 22rpx;\n\t}\n\n\t.time-input {\n\t\twidth: 100rpx;\n\t\tbackground: white;\n\t\tpadding: 4rpx 6rpx;\n\t\tborder-radius: 4rpx;\n\t\tfont-size: 22rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.location-btn {\n\t\twidth: 44rpx;\n\t\theight: 44rpx;\n\t\tmin-width: 44rpx;\n\t\tmax-width: 44rpx;\n\t\tborder-radius: 50%;\n\t\tbackground-color: #165DFF;\n\t\tcolor: white;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.15);\n\t\tflex-shrink: 0;\n\t\tbox-sizing: border-box;\n\t\tline-height: 1;\n\t}\n\n\t.location-icon {\n\t\tfont-size: 24rpx;\n\t}\n\n\t.location-details {\n\t\tmargin-top: 20rpx;\n\t\tpadding-top: 20rpx;\n\t\tborder-top: 1rpx solid #e2e8f0;\n\t}\n\t\n\t.transport-section {\n\t\tbackground-color: white;\n\t\tborder-radius: 12rpx;\n\t\tpadding: 20rpx;\n\t\tborder: 2rpx solid #e5e5e5;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.transport-title-wrapper {\n\t\tposition: relative;\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.transport-title {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #1E293B;\n\t}\n\n\t.transport-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgap: 12rpx;\n\t}\n\n\t.transport-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 12rpx;\n\t\tborder: 2rpx solid #e5e5e5;\n\t\tborder-radius: 10rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.transport-icon {\n\t\tfont-size: 36rpx;\n\t\tmargin-right: 12rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.transport-info {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\n\t.transport-type-wrapper, .transport-detail-wrapper {\n\t\tposition: relative;\n\t\tmargin-bottom: 6rpx;\n\t}\n\n\t.transport-type {\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tcolor: #1E293B;\n\t\tdisplay: block;\n\t\tword-break: break-word;\n\t}\n\n\t.transport-type-input {\n\t\twidth: 100%;\n\t\tbackground: #f9f9f9;\n\t\tpadding: 6rpx 8rpx;\n\t\tborder-radius: 4rpx;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.transport-detail {\n\t\tfont-size: 22rpx;\n\t\tcolor: #666;\n\t\tdisplay: block;\n\t\tword-break: break-word;\n\t\tline-height: 1.4;\n\t}\n\n\t.transport-detail-input {\n\t\twidth: 100%;\n\t\tbackground: #f9f9f9;\n\t\tpadding: 6rpx 8rpx;\n\t\tborder-radius: 4rpx;\n\t\tfont-size: 22rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.details-content {\n\t\tmargin-bottom: 24rpx;\n\t\tpadding: 20rpx;\n\t\tbackground: #f8fafc;\n\t\tborder-radius: 12rpx;\n\t\tborder-left: 4rpx solid #165DFF;\n\t}\n\n\t.details-title {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #165DFF;\n\t\tdisplay: block;\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.details-text-wrapper {\n\t\tposition: relative;\n\t}\n\n\t.details-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #475569;\n\t\tline-height: 1.6;\n\t\tdisplay: block;\n\t\tword-break: break-word;\n\t}\n\n\t.details-text-input {\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tpadding: 10rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 26rpx;\n\t\tmin-height: 120rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.tips-section {\n\t\tbackground: rgba(22, 93, 255, 0.05);\n\t\tpadding: 40rpx;\n\t\tborder-top: 1rpx solid #e2e8f0;\n\t}\n\n\t.tips-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #165DFF;\n\t\tdisplay: block;\n\t\tmargin-bottom: 24rpx;\n\t}\n\t\n\t.tips-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 20rpx;\n\t}\n\n\t.tip-item {\n\t\tdisplay: flex;\n\t\talign-items: flex-start;\n\t\tgap: 16rpx;\n\t}\n\n\t.tip-icon {\n\t\tfont-size: 24rpx;\n\t\tmargin-top: 4rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.tip-text-wrapper {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\tmin-width: 0;\n\t}\n\n\t.tip-text {\n\t\tfont-size: 26rpx;\n\t\tcolor: #475569;\n\t\tline-height: 1.5;\n\t\tflex: 1;\n\t\tword-break: break-word;\n\t}\n\n\t.tip-text-input {\n\t\twidth: 100%;\n\t\tbackground: white;\n\t\tpadding: 10rpx 12rpx;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 26rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.editable {\n\t\tcursor: pointer;\n\t}\n\n\t.editable.editing {\n\t\toutline: 2rpx solid #165DFF;\n\t\tborder-radius: 4rpx;\n\t}\n\n\t.loading-container {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\theight: calc(100vh - 120rpx);\n\t}\n\n\t.loading-content {\n\t\ttext-align: center;\n\t}\n\n\t.loading-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #64748B;\n\t}\n\n\t/* Âà†Èô§Á°ÆËÆ§ÂØπËØùÊ°Ü */\n\t.delete-overlay {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.5);\n\t\tz-index: 40;\n\t}\n\n\t.delete-confirm {\n\t\tposition: fixed;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tbackground: white;\n\t\tpadding: 32rpx 24rpx;\n\t\tborder-radius: 16rpx;\n\t\tbox-shadow: 0 10rpx 30rpx rgba(0, 0, 0, 0.2);\n\t\tz-index: 50;\n\t\tmin-width: 480rpx;\n\t\tmax-width: 90%;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.delete-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #ef4444;\n\t\tdisplay: block;\n\t\tmargin-bottom: 24rpx;\n\t}\n\n\t.delete-message {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666;\n\t\tdisplay: block;\n\t\tmargin-bottom: 32rpx;\n\t\tline-height: 1.5;\n\t\tword-break: break-word;\n\t}\n\t\n\t.delete-actions {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t\tgap: 16rpx;\n\t}\n\n\t.cancel-delete-btn, .confirm-delete-btn {\n\t\tpadding: 16rpx 32rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-size: 26rpx;\n\t\tborder: none;\n\t\tline-height: 1;\n\t}\n\n\t.cancel-delete-btn {\n\t\tbackground-color: #f8f9fa;\n\t\tcolor: #666;\n\t\tborder: 2rpx solid #e5e5e5;\n\t}\n\n\t.confirm-delete-btn {\n\t\tbackground-color: #ef4444;\n\t\tcolor: white;\n\t}\n\n\t.map-modal {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tz-index: 1000;\n\t}\n\t\n\t.modal-overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\tbackdrop-filter: blur(4rpx);\n\t}\n\t\n\t.modal-content {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\twidth: 90%;\n\t\theight: 70%;\n\t\tbackground: white;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 20rpx 60rpx rgba(0, 0, 0, 0.3);\n\t}\n\t\n\t.modal-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #e2e8f0;\n\t\tbackground: #f8fafc;\n\t}\n\t\n\t.modal-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #1E293B;\n\t}\n\t\n\t.modal-close {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: #f1f5f9;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 36rpx;\n\t\tcolor: #64748B;\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.modal-close:active {\n\t\tbackground: #e2e8f0;\n\t\ttransform: scale(0.95);\n\t}\n\n\t.map-container {\n\t\theight: calc(100% - 120rpx);\n\t}\n\n\t.detail-map {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n\n\t/* ÂÖ®Â±èÂú∞Âõæ */\n\t.full-map-container {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: white;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t.map-header {\n\t\tposition: relative;\n\t\theight: 100rpx;\n\t\tbackground: white;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 0 24rpx;\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\n\t\tz-index: 101;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.map-close-btn {\n\t\tposition: absolute;\n\t\tleft: 20rpx;\n\t\tbackground: #165DFF;\n\t\tcolor: white;\n\t\tborder: none;\n\t\twidth: 64rpx;\n\t\theight: 64rpx;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 32rpx;\n\t\tflex-shrink: 0;\n\t}\n\n\t.map-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #1E293B;\n\t\ttext-align: center;\n\t\tword-break: break-word;\n\t\tflex: 1;\n\t\tpadding: 0 80rpx;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.map-content {\n\t\tflex: 1;\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow: hidden;\n\t}\n\n\t.full-map {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tmin-height: 600rpx;\n\t}\n</style>\n","import MiniProgramPage from 'E:/pbl2/tripself/pages/guide/edit/edit.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapConfig","uni","locationService"],"mappings":"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"}