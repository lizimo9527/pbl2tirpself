<view class="edit-container"><view class="detail-header"><view class="header-top-row"><view class="header-back" bindtap="{{a}}"><text class="back-icon">â†</text><text class="back-text">è¿”å›</text></view><view class="header-title">{{b}}</view><view style="width:120rpx"></view></view><view class="header-actions"><button class="action-btn map-btn" bindtap="{{c}}"><text class="action-icon">ğŸ—ºï¸</text><text class="action-text">åœ°å›¾</text></button></view></view><scroll-view wx:if="{{d}}" class="detail-content" scroll-y><view class="travel-guide-card"><view class="banner-section"><image src="{{e}}" mode="aspectFill" class="banner-image" bindtap="{{f}}"/><view class="banner-overlay"></view><view class="banner-content"><view class="title-wrapper"><text wx:if="{{g}}" class="{{['guide-title', 'editable', i && 'editing']}}" bindtap="{{j}}">{{h}}</text><input wx:else class="title-input" bindblur="{{k}}" bindconfirm="{{l}}" focus="{{m}}" value="{{n}}" bindinput="{{o}}"/></view><view class="subtitle-wrapper"><text wx:if="{{p}}" class="{{['guide-subtitle', 'editable', r && 'editing']}}" bindtap="{{s}}">{{q}}</text><input wx:else class="subtitle-input" bindblur="{{t}}" bindconfirm="{{v}}" focus="{{w}}" value="{{x}}" bindinput="{{y}}"/></view></view></view><view class="content-section"><view class="add-day-wrapper"><button class="add-day-btn" bindtap="{{z}}"><text class="add-icon">+</text><text class="add-text">æ–°å¢å¤©æ•°</text></button></view><view wx:for="{{A}}" wx:for-item="day" wx:key="r" class="day-section"><view class="day-header" bindtap="{{day.n}}"><view class="day-title-wrapper"><view class="{{['day-number', day.b && 'delete-highlight']}}" catchtap="{{day.c}}">{{day.a}}</view><view class="day-title-input-wrapper"><text wx:if="{{day.d}}" class="{{['day-title', 'editable', day.f && 'editing']}}" catchtap="{{day.g}}">{{day.e}}</text><input wx:else class="day-title-input" bindblur="{{day.h}}" bindconfirm="{{day.i}}" focus="{{day.j}}" value="{{day.k}}" bindinput="{{day.l}}"/></view></view><text class="{{['day-toggle-icon', day.m && 'rotated']}}">â–¼</text></view><view class="day-content" hidden="{{!day.q}}"><view class="add-location-wrapper"><button class="add-location-btn" bindtap="{{day.o}}"><text class="add-icon-small">+</text><text class="add-text-small">æ–°å¢åœ°ç‚¹</text></button></view><view class="locations-list"><view wx:for="{{day.p}}" wx:for-item="location" wx:key="O" class="{{['location-card', location.P && 'delete-highlight']}}" bindtap="{{location.Q}}" bindlongpress="{{location.R}}"><view class="location-header"><view class="location-info"><view class="location-name-wrapper"><text wx:if="{{location.a}}" class="{{['location-name', 'editable', location.c && 'editing']}}" catchtap="{{location.d}}">{{location.b}}</text><input wx:else class="location-name-input" bindblur="{{location.e}}" bindconfirm="{{location.f}}" focus="{{location.g}}" value="{{location.h}}" bindinput="{{location.i}}"/></view><view class="location-desc-wrapper"><text wx:if="{{location.j}}" class="{{['location-desc', 'editable', location.l && 'editing']}}" catchtap="{{location.m}}">{{location.k}}</text><input wx:else class="location-desc-input" bindblur="{{location.n}}" bindconfirm="{{location.o}}" focus="{{location.p}}" value="{{location.q}}" bindinput="{{location.r}}"/></view></view><view class="location-actions"><view class="time-badge"><text class="time-icon">â°</text><view class="time-input-wrapper"><text wx:if="{{location.s}}" class="{{['time-text', 'editable', location.v && 'editing']}}" catchtap="{{location.w}}">{{location.t}}</text><input wx:else class="time-input" bindblur="{{location.x}}" bindconfirm="{{location.y}}" focus="{{location.z}}" value="{{location.A}}" bindinput="{{location.B}}"/></view></view><button class="location-btn" catchtap="{{location.C}}"><text class="location-icon">ğŸ“</text></button></view></view><view class="location-details" hidden="{{!location.N}}"><view class="transport-section"><view class="transport-title-wrapper"><text class="transport-title">äº¤é€šæ–¹å¼</text></view><view class="transport-grid"><view wx:for="{{location.D}}" wx:for-item="transport" wx:key="t" class="transport-item"><text class="transport-icon">{{transport.a}}</text><view class="transport-info"><view class="transport-type-wrapper"><text wx:if="{{transport.b}}" class="{{['transport-type', 'editable', transport.d && 'editing']}}" catchtap="{{transport.e}}">{{transport.c}}</text><input wx:else class="transport-type-input" bindblur="{{transport.f}}" bindconfirm="{{transport.g}}" focus="{{transport.h}}" value="{{transport.i}}" bindinput="{{transport.j}}"/></view><view class="transport-detail-wrapper"><text wx:if="{{transport.k}}" class="{{['transport-detail', 'editable', transport.m && 'editing']}}" catchtap="{{transport.n}}">{{transport.l}}</text><input wx:else class="transport-detail-input" bindblur="{{transport.o}}" bindconfirm="{{transport.p}}" focus="{{transport.q}}" value="{{transport.r}}" bindinput="{{transport.s}}"/></view></view></view></view></view><view wx:if="{{location.E}}" class="details-content"><text class="details-title">æ™¯ç‚¹è¯¦æƒ…</text><view class="details-text-wrapper"><text wx:if="{{location.F}}" class="{{['details-text', 'editable', location.H && 'editing']}}" catchtap="{{location.I}}">{{location.G}}</text><block wx:else><textarea wx:if="{{r0}}" class="details-text-input" bindblur="{{location.J}}" focus="{{location.K}}" value="{{location.L}}" bindinput="{{location.M}}"/></block></view></view></view></view></view></view></view></view><view wx:if="{{B}}" class="tips-section"><text class="tips-title">æ—…è¡Œå°è´´å£«</text><view class="tips-list"><view wx:for="{{C}}" wx:for-item="tip" wx:key="k" class="tip-item"><text class="tip-icon">{{tip.a}}</text><view class="tip-text-wrapper"><text wx:if="{{tip.b}}" class="{{['tip-text', 'editable', tip.d && 'editing']}}" bindtap="{{tip.e}}">{{tip.c}}</text><input wx:else class="tip-text-input" bindblur="{{tip.f}}" bindconfirm="{{tip.g}}" focus="{{tip.h}}" value="{{tip.i}}" bindinput="{{tip.j}}"/></view></view></view></view></view></scroll-view><view wx:else class="loading-container"><view class="loading-content"><text class="loading-text">åŠ è½½ä¸­...</text></view></view><view wx:if="{{D}}" class="delete-overlay" bindtap="{{E}}"></view><view wx:if="{{F}}" class="delete-confirm"><text class="delete-title">ç¡®è®¤åˆ é™¤</text><text class="delete-message">{{G}}</text><view class="delete-actions"><button class="cancel-delete-btn" bindtap="{{H}}">å–æ¶ˆ</button><button class="confirm-delete-btn" bindtap="{{I}}">ç¡®è®¤åˆ é™¤</button></view></view><view wx:if="{{J}}" class="map-modal"><view class="modal-overlay" bindtap="{{K}}"></view><view class="modal-content"><view class="modal-header"><text class="modal-title">{{L}}</text><view class="modal-close" bindtap="{{M}}"><text>Ã—</text></view></view><view class="map-container"><map longitude="{{N}}" latitude="{{O}}" scale="12" markers="{{P}}" polyline="{{Q}}" class="detail-map"></map></view></view></view><view wx:if="{{R}}" class="full-map-container" bindtap="{{ag}}"><view class="map-header" catchtap="{{U}}"><button class="map-close-btn" bindtap="{{S}}"><text class="close-icon">Ã—</text></button><text class="map-title">{{T}}</text></view><view class="map-content" catchtap="{{af}}"><map wx:if="{{V}}" key="{{W}}" id="fullMap" longitude="{{X}}" latitude="{{Y}}" scale="{{Z}}" markers="{{aa}}" show-location="{{false}}" enable-zoom="{{true}}" enable-scroll="{{true}}" enable-rotate="{{false}}" enable-overlooking="{{false}}" enable-poi="{{true}}" enable-building="{{true}}" class="full-map" bindmarkertap="{{ab}}" bindregionchange="{{ac}}" bindtap="{{ad}}" bindupdated="{{ae}}"></map></view></view></view>