<view class="plan-container"><view class="header"><text class="title">旅行规划</text><text class="subtitle">在地图上规划您的完美行程</text></view><view class="date-tabs"><scroll-view class="date-scroll" scroll-x="true"><view wx:for="{{a}}" wx:for-item="date" wx:key="c" class="{{['date-tab', date.d && 'active']}}" bindtap="{{date.e}}"><text class="date-text">{{date.a}}</text><text class="date-desc">{{date.b}}</text></view></scroll-view></view><view class="map-section"><view class="map-header"><text class="section-title">地图展示</text><view class="map-controls"><button class="control-btn" bindtap="{{b}}">📍</button><button class="control-btn" bindtap="{{c}}">+</button><button class="control-btn" bindtap="{{d}}">-</button><button class="control-btn" bindtap="{{e}}">🗑️</button></view></view><view class="map-container"><map id="planMap" longitude="{{f}}" latitude="{{g}}" scale="{{h}}" markers="{{i}}" polyline="{{j}}" show-location="{{true}}" enable-zoom="{{true}}" enable-scroll="{{true}}" class="tencent-map" bindtap="{{k}}" bindmarkertap="{{l}}" bindregionchange="{{m}}"></map><view wx:if="{{n}}" class="map-loading"><text class="loading-text">地图加载中...</text></view></view></view><view class="locations-section"><view class="section-header"><text class="section-title">当日行程</text><button class="add-btn" bindtap="{{o}}">+ 添加地点</button></view><view class="locations-list"><view wx:for="{{p}}" wx:for-item="location" wx:key="g" class="location-item" bindtap="{{location.h}}"><view class="location-info"><text class="location-name">{{location.a}}</text><text class="location-details">{{location.b}} · {{location.c}} · {{location.d}}</text></view><view class="location-actions"><button class="action-btn edit-btn" catchtap="{{location.e}}">编辑</button><button class="action-btn delete-btn" catchtap="{{location.f}}">删除</button></view></view></view></view><view class="route-section"><view class="section-header"><text class="section-title">路线规划</text><button class="route-btn" bindtap="{{q}}">智能路线规划</button></view><view class="route-info"><text class="route-total">总行程：{{r}} · {{s}}</text><view class="route-segments"><view wx:for="{{t}}" wx:for-item="segment" wx:key="c" class="route-segment"><text class="segment-info">{{segment.a}} {{segment.b}}</text></view></view></view></view><view wx:if="{{v}}" class="modal"><view class="modal-content"><view class="modal-header"><text class="modal-title">搜索地点</text><button class="close-btn" bindtap="{{w}}">×</button></view><view class="search-input"><input placeholder="输入景点、住宿、交通枢纽等关键词" class="search-field" value="{{x}}" bindinput="{{y}}"/><button class="search-btn" bindtap="{{z}}">搜索</button></view><view class="search-results"><view wx:for="{{A}}" wx:for-item="result" wx:key="c" class="search-result" bindtap="{{result.d}}"><text class="result-name">{{result.a}}</text><text class="result-type">{{result.b}}</text></view></view></view></view><view wx:if="{{B}}" class="modal"><view class="modal-content"><view class="modal-header"><text class="modal-title">添加备注</text><button class="close-btn" bindtap="{{C}}">×</button></view><view class="note-input"><block wx:if="{{r0}}"><textarea placeholder="输入对该地点的行程安排、特色说明等备注信息" class="note-field" maxlength="200" value="{{D}}" bindinput="{{E}}"></textarea></block><text class="note-count">{{F}}/200</text></view><view class="modal-actions"><button class="cancel-btn" bindtap="{{G}}">取消</button><button class="confirm-btn" bindtap="{{H}}">保存</button></view></view></view></view>